(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87df8fda"],{"40f4":function(t,e,a){"use strict";a("e63b")},"6cd7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[t._v("List Type")])]},proxy:!0},{key:"body",fn:function(){return[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{md:"12"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.addTypeModal",modifiers:{addTypeModal:!0}}],staticClass:"float-right mr-2",attrs:{variant:"success"}},[t._v("Add Type")]),a("b-modal",{attrs:{id:"addTypeModal",centered:"",title:"Tambah data file","ok-title":"Tambah","cancel-title":"Batal"},on:{ok:t.onSubmit}},[a("b-container",[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{"label-for":"typename",label:"Nama Tipe"}},[a("b-form-input",{attrs:{id:"typename",type:"text",placeholder:"-"},model:{value:t.type.name_type,callback:function(e){t.$set(t.type,"name_type",e)},expression:"type.name_type"}})],1)],1),a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{"label-for":"typestatus",label:"Status"}},[a("b-form-select",{attrs:{plain:"",options:t.status,id:"typestatus"},model:{value:t.type.status,callback:function(e){t.$set(t.type,"status",e)},expression:"type.status"}})],1)],1)],1)],1)],1)],1)],1),a("b-table",{ref:"dTable",attrs:{"show-empty":"",stacked:"md",items:t.getTypeList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,filterIncludedFields:t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(no)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"editType",expression:"'editType'"}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.sendInfo(e.item.id)}}},[a("div",{staticClass:"icon",attrs:{"data-icon":""}})]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteType(e.item.id)}}},[a("div",{staticClass:"icon",attrs:{"data-icon":""}})])]}}])}),a("b-modal",{attrs:{id:"editType",centered:"",title:"Ubah data type","ok-title":"Ubah","cancel-title":"Batal"},on:{ok:t.onEdit}},[a("b-container",[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{"label-for":"typename",label:"Nama Tipe"}},[a("b-form-input",{attrs:{id:"typename",type:"text",placeholder:"-"},model:{value:t.type.name_type,callback:function(e){t.$set(t.type,"name_type",e)},expression:"type.name_type"}})],1)],1),a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{"label-for":"typestatus",label:"Status"}},[a("b-form-select",{attrs:{plain:"",options:t.status,id:"typestatus"},model:{value:t.type.status,callback:function(e){t.$set(t.type,"status",e)},expression:"type.status"}})],1),a("div",[t._v("Download template type "),a("a",{attrs:{href:"#",target:"_blank"}},[t._v("disini")])])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]},proxy:!0}])})],1)],1)],1)},n=[],i=(a("d81d"),a("4de4"),a("d3b7"),a("bcae")),o=a("22dc"),r={name:"TypeList",props:{},mounted:function(){i["d"].index(),this.totalRows=this.listType.index+1},data:function(){return{listType:[],type:{name_type:"",status:""},fields:[{key:"no",label:"No.",sortable:!0,sortDirection:"asc"},{key:"name_type",label:"Nama"},{key:"status",label:"Status",formatter:function(t,e,a){return t?"Aktif":"Tidak Aktif"},sortable:!0,sortByFormatted:!0,filterByFormatted:!0},{key:"actions",label:"Tindakan"}],status:[{value:1,text:"Aktif"},{value:0,text:"Tidak Aktif"}],totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},idSave:""}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{onSubmit:function(){this.addType()},onEdit:function(){this.editType()},sendInfo:function(t){var e=this;o["a"].type.getDetailType(t).then((function(a){a.status&&(e.type={name_type:a.data.result.name_type,status:a.data.result.status},e.idSave=t)})).finally((function(){e.loading=!1}))},info:function(t,e,a){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getTypeList:function(t){var e=this,a=(t.currentPage-1)*t.perPage;return 1===t.currentPage&&(a=0),o["a"].type.getAllType(a,t.perPage).then((function(t){var a=t.data;if(200===t.status){e.totalRows=a._metadata.total;var s=a.result;return s||[]}t.data.errors.length>0&&e.$refs.form.setErrors(t.data.errors),e.listType=t.data.result})).finally((function(){e.loading=!1}))},addType:function(){var t=this;o["a"].type.addType(this.type).then((function(e){e.status&&(i["d"].showSnackbar("success","Tipe telah berhasil ditambah."),t.getTypeList())})).finally((function(){t.loading=!1}))},editType:function(){var t=this;o["a"].type.editType(this.idSave,this.type).then((function(e){e.status&&(i["d"].showSnackbar("success","Tipe telah berhasil diubah."),t.getTypeList())})).finally((function(){t.loading=!1}))},deleteType:function(t){var e=this,a=confirm("Apakah anda ingin menghapus data ini?");a&&o["a"].type.deleteType(t).then((function(t){t.status?(i["d"].showSnackbar("success","Tipe telah berhasil dihapus."),e.getTypeList()):t.data.errors.length>0&&(e.$refs.form.setErrors(t.data.errors),i["d"].showSnackbar("danger","Tipe telah gagal dihapus."))})).finally((function(){e.loading=!1}))}}},l=r,d=(a("40f4"),a("2877")),c=Object(d["a"])(l,s,n,!1,null,null,null);e["default"]=c.exports},e63b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-87df8fda.176c535d.js.map