(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-deaed994"],{"05b3":function(t,o,e){},"1dae":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{sm:"12"}},[e("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[e("b-row",[e("b-col",{attrs:{md:"6"}},[e("div",[e("h4",{staticClass:"d-inline"},[t._v("Atur Kolom")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-col",modifiers:{"modal-add-col":!0}}],staticClass:"float-right",attrs:{variant:"info",size:"sm"}},[t._v("+ Tambah")])],1),e("hr"),e("draggable",t._b({staticClass:"list-group",attrs:{tag:"ul",move:t.onMove},on:{start:function(o){t.isDragging=!0},end:function(o){t.isDragging=!1},change:t.reorderCol},model:{value:t.listCol,callback:function(o){t.listCol=o},expression:"listCol"}},"draggable",t.dragOptions,!1),[e("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.listCol,(function(o){return e("li",{key:o.order,staticClass:"list-group-item"},[e("i",{class:o.fixed?"fa fa-anchor":"fa fa-pen",attrs:{"aria-hidden":"true"},on:{click:function(t){o.fixed=!o.fixed}}}),e("b",{staticClass:"ml-1 mr-2"},[t._v(t._s(o.col_name))]),e("b-badge",{attrs:{variant:"primary"}},[t._v(t._s(o.order))])],1)})),0)],1)],1),e("b-col",{attrs:{md:"6"}},[e("div",[e("h4",{staticClass:"d-inline"},[t._v("Atur Row")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-row",modifiers:{"modal-add-row":!0}}],staticClass:"float-right",attrs:{variant:"info",size:"sm"}},[t._v("+ Tambah")])],1),e("hr"),e("draggable",t._b({staticClass:"list-group",attrs:{tag:"ul",move:t.onMove},on:{start:function(o){t.isDragging=!0},end:function(o){t.isDragging=!1},change:t.reorderRow},model:{value:t.listRow,callback:function(o){t.listRow=o},expression:"listRow"}},"draggable",t.dragOptions,!1),[e("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.listRow,(function(o){return e("li",{key:o.order,staticClass:"list-group-item"},[e("i",{class:o.fixed?"fa fa-anchor":"fa fa-pen",attrs:{"aria-hidden":"true"},on:{click:function(t){o.fixed=!o.fixed}}}),e("b",{staticClass:"ml-1 mr-2"},[t._v(t._s(o.row_name))]),e("b-badge",{attrs:{variant:"primary"}},[t._v(t._s(o.order))])],1)})),0)],1)],1)],1)]},proxy:!0}])})],1)],1),e("b-modal",{attrs:{id:"modal-add-col",centered:"",title:"Form Tambah Kolom"},on:{ok:function(o){return t.addData("col")},hidden:function(o){return t.resetField("col")}}},[e("form",[e("b-row",[e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"nama_kolom",label:"Nama Kolom"}},[e("b-form-input",{attrs:{id:"nama_kolom",type:"text",placeholder:"-"},model:{value:t.col.colname,callback:function(o){t.$set(t.col,"colname",o)},expression:"col.colname"}})],1)],1),e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"desk_kolom",label:"Deskripsi"}},[e("b-form-input",{attrs:{id:"desk_kolom",type:"text",placeholder:"-"},model:{value:t.col.description,callback:function(o){t.$set(t.col,"description",o)},expression:"col.description"}})],1)],1),e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"fixed_kolom",label:"Fixed"}},[e("b-form-select",{attrs:{options:t.fixed,id:"fixed_kolom"},model:{value:t.col.fixed,callback:function(o){t.$set(t.col,"fixed",o)},expression:"col.fixed"}})],1)],1)],1)],1)]),e("b-modal",{attrs:{id:"modal-add-row",centered:"",title:"Form Tambah Row"},on:{ok:function(o){return t.addData("row")},hidden:function(o){return t.resetField("row")}}},[e("form",[e("b-row",[e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"nama_row",label:"Nama Row"}},[e("b-form-input",{attrs:{id:"nama_row",type:"text",placeholder:"-"},model:{value:t.row.rowname,callback:function(o){t.$set(t.row,"rowname",o)},expression:"row.rowname"}})],1)],1),e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"desk_row",label:"Deskripsi"}},[e("b-form-input",{attrs:{id:"desk_row",type:"text",placeholder:"-"},model:{value:t.row.description,callback:function(o){t.$set(t.row,"description",o)},expression:"row.description"}})],1)],1),e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"fixed_row",label:"Fixed"}},[e("b-form-select",{attrs:{options:t.fixed,id:"fixed_row"},model:{value:t.row.fixed,callback:function(o){t.$set(t.row,"fixed",o)},expression:"row.fixed"}})],1)],1)],1)],1)])],1)},i=[],r=(e("d3b7"),e("d81d"),e("a9e3"),e("c7cd"),e("a434"),e("159b"),e("b76a")),n=e.n(r),l=e("bcae"),s=e("22dc"),d=e("c1df"),c=e.n(d),u={name:"TableDetail",mounted:function(){l["d"].index(),this.getCol(),this.getRow()},data:function(){return{listCol:[],listRow:[],editable:!0,isDragging:!1,delayedDragging:!1,fixed:[{value:1,text:"Ya"},{value:0,text:"Tidak"}],col:{table:this.$route.params.id,colname:"",order:null,desc:"",fixed:null},row:{table:this.$route.params.id,rowname:"",order:null,desc:"",fixed:null}}},filters:{moment:function(t){return c()(t).format("D/MMM/YYYY, hh:mm:ss A")}},computed:{dragOptions:function(){return{animation:0,group:"description",disabled:!this.editable,ghostClass:"ghost"}},listString:function(){return JSON.stringify(this.listCol,null,2)}},watch:{isDragging:function(t){var o=this;t?this.delayedDragging=!0:this.$nextTick((function(){o.delayedDragging=!1}))}},components:{draggable:n.a},beforeMount:function(){},methods:{getCol:function(){var t=this;l["d"].custLoader(!0),s["a"].table.getColumn(this.$route.params.id).then((function(o){var e=o.data;if(o.status){var a=e.data,i=a.map((function(t,o){return{col_name:t.col_name,fixed:Boolean(Number(t.fixed)),order:Number(t.order),id:t.id}}));t.listCol=i}})).finally((function(){l["d"].custLoader(!1)}))},getRow:function(){var t=this;l["d"].custLoader(!0),s["a"].table.getRow(this.$route.params.id).then((function(o){var e=o.data;if(o.status){var a=e.data,i=a.map((function(t,o){return{row_name:t.row_name,fixed:Boolean(Number(t.fixed)),order:Number(t.order),id:t.id}}));t.listRow=i}})).finally((function(){l["d"].custLoader(!1)}))},addData:function(t){var o=this;this.col.order=this.listCol.length+1,this.row.order=this.listRow.length+1,l["d"].custLoader(!0),"col"===t?s["a"].table.addColumn(this.col).then((function(t){o.getCol()})).finally((function(){l["d"].custLoader(!1)})):s["a"].table.addRow(this.row).then((function(t){o.getRow()})).finally((function(){l["d"].custLoader(!1)}))},resetField:function(t){"col"===t?this.col={table:this.$route.params.id,colname:"",order:"",desc:"",fixed:null}:this.row={table:this.$route.params.id,colname:"",order:"",desc:"",fixed:null}},reorderCol:function(t,o){l["d"].custLoader(!0),this.listCol.splice(t,0,this.listCol.splice(o,1)[0]),this.listCol.forEach((function(t,o){t.order=o+1})),s["a"].table.changeOrderCol(this.listCol).then((function(t){})).finally((function(){l["d"].custLoader(!1)}))},reorderRow:function(t,o){l["d"].custLoader(!0),this.listRow.splice(t,0,this.listRow.splice(o,1)[0]),this.listRow.forEach((function(t,o){t.order=o+1})),s["a"].table.changeOrderRow(this.listRow).then((function(t){})).finally((function(){l["d"].custLoader(!1)}))},onMove:function(t){var o=t.relatedContext,e=t.draggedContext,a=o.element,i=e.element;return(!a||!a.fixed)&&!i.fixed}}},f=u,m=(e("b505"),e("2877")),b=Object(m["a"])(f,a,i,!1,null,"4dfa616a",null);o["default"]=b.exports},b505:function(t,o,e){"use strict";e("05b3")},c7cd:function(t,o,e){"use strict";var a=e("23e7"),i=e("857a"),r=e("af03");a({target:"String",proto:!0,forced:r("fixed")},{fixed:function(){return i(this,"tt","","")}})}}]);
//# sourceMappingURL=chunk-deaed994.b0f826bd.js.map