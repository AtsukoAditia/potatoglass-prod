(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03395b50"],{"588a":function(e,t,r){},"65dc":function(e,t,r){"use strict";r("588a")},d3c7:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("b-row",[r("b-col",{attrs:{md:"12",sm:"12"}},[r("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[r("h4",{staticClass:"card-title"},[e._v("List Request Merk")])]},proxy:!0},{key:"body",fn:function(){return[r("b-row",{staticClass:"mb-2"},[r("b-col",{attrs:{md:"4"}},[r("b-form-group",[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Cari data disini"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append")],1)],1)],1)],1),r("b-table",{ref:"dTable",attrs:{"show-empty":"",stacked:"md",items:e.MerkList,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"sort-by":e.sortBy,"sort-desc":e.sortDesc},on:{filtered:e.onFiltered,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(no)",fn:function(t){return[e._v(" "+e._s((e.currentPage-1)*e.perPage+(t.index+1))+" ")]}},{key:"cell(assets)",fn:function(t){return[r("a",{attrs:{href:e.assetUrl+"category/"+e.cekImg(t.item.assets),target:"_blank"}},[r("b-img",{staticClass:"imgTBL",attrs:{src:e.assetUrl+"category/"+e.cekImg(t.item.assets),alt:t.item.name_category},on:{error:e.imgError}})],1)]}},{key:"cell(created_at)",fn:function(t){return[r("span",[e._v(" "+e._s(e._f("moment")(t.item.created_at))+" ")])]}},{key:"cell(actions)",fn:function(t){return[r("div",{staticClass:"d-flex"},[r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"success",title:"Setujui Merk ini?"},on:{click:function(r){return e.accVerif(t.item.id)}}},[r("div",{staticClass:"icon",attrs:{"data-icon":"S"}})])],1)]}}])}),r("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)]},proxy:!0}])})],1)],1)],1)},s=[],n=r("5530"),o=(r("d81d"),r("4de4"),r("d3b7"),r("ac1f"),r("1276"),r("bcae")),i=r("22dc"),c=r("c1df"),l=r.n(c),u=r("358c"),d=r("2f62"),f={name:"VendorMerk",mounted:function(){o["d"].index()},data:function(){return{fields:[{key:"no",label:"No.",sortable:!0,sortDirection:"asc"},{key:"assets",label:"Foto"},{key:"name_category",label:"Nama Merk"},{key:"username",label:"Vendor"},{key:"created_at",label:"Tgl. Pengajuan"},{key:"actions",label:"Actions"}],totalRows:"",currentPage:1,perPage:15,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},assetUrl:u["a"].urlAssetsPHP,userrole:this.userData()}},filters:{moment:function(e){return l()(e).format("D MMMM YYYY")}},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:Object(n["a"])(Object(n["a"])({},Object(d["c"])({userData:"authModule/getUserData"})),{},{deleteVendor:function(e){var t=this,r=confirm("Apakah data ini mau dihapus?");r&&i["a"].vendor.deleteVendor(e).then((function(e){e.status?(o["d"].showSnackbar("success","Hapus data vendor berhasil."),t.$refs.dTable.refresh()):e.data.errors.length>0&&(t.$refs.form.setErrors(e.data.errors),r("Gagal"))})).finally((function(){t.loading=!1}))},accVerif:function(e){var t=this,r=confirm("Verifikasi merk ini?");r&&(o["d"].custLoader(!0),i["a"].cat.verifyMerk(e).then((function(e){var a=e.data;200===e.status?"SUCCESS"===a.message&&(o["d"].showSnackbar("success","Verifikasi data merk berhasil."),t.$refs.dTable.refresh()):e.data.errors.length>0&&(t.$refs.form.setErrors(e.data.errors),r("Gagal"))})).finally((function(){o["d"].custLoader(!1)})))},MerkList:function(e,t){var r=this,a=(e.currentPage-1)*e.perPage;1===e.currentPage&&(a=0),i["a"].cat.getMerkVerified(a,e.perPage,"merk").then((function(e){var a=e.data;if(200===e.status){r.totalRows=a._meta.total;var s=a.data;t(s)}else e.data.errors.length>0&&r.$refs.form.setErrors(e.data.errors)})).finally((function(){r.loading=!1}))},imgError:function(e){e.target.src=o["c"]},cekImg:function(e){if(null!=e){var t=e.split(",");return t[0]}return"-"},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}})},m=f,p=(r("65dc"),r("2877")),b=Object(p["a"])(m,a,s,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-03395b50.9008196e.js.map