(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22bd50"],{f13b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{md:"4"}},[e("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[e("h5",{staticClass:"card-title"},[t._v("Informasi Tiket "),e("b",[t._v("#00"+t._s(t.$route.params.id))])])]},proxy:!0},{key:"body",fn:function(){return[e("b-row",[e("b-col",{attrs:{md:"12"}},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-borderless table-sm"},[e("tr",[e("td",[t._v("Judul Tiket")]),e("td",[t._v(": "+t._s(t.listDetailTicket.ticket_title))])]),e("tr",[e("td",[t._v("Status")]),e("td",[t._v(": "),"2"===t.listDetailTicket.ticket_status?e("b-badge",{attrs:{variant:"danger"}},[t._v("Ticket Rejected")]):"1"===t.listDetailTicket.ticket_status?e("b-badge",{attrs:{variant:"info"}},[t._v("Ticket Open")]):t._e(),"3"===t.listDetailTicket.ticket_status?e("b-badge",{attrs:{variant:"success"}},[t._v("Ticket Approved")]):t._e(),"4"===t.listDetailTicket.ticket_status?e("b-badge",{attrs:{variant:"secondary"}},[t._v("Ticket Closed")]):t._e()],1)]),e("tr",[e("td",[t._v("Tipe Tiket")]),e("td",[t._v(": "),e("b",[t._v(t._s(t.listDetailTicket.ticket_type))])])])])])])],1),e("b-row",[10==t.userData.user.role?e("b-col",{staticClass:"mb-2",attrs:{md:"12"}},["1"===t.listDetailTicket.ticket_status?e("b-button",{staticClass:"float-right",attrs:{variant:"success"},on:{click:function(a){return t.approveAct(3)}}},[t._v("Menyetujui Tiket")]):t._e(),"1"===t.listDetailTicket.ticket_status?e("b-button",{staticClass:"float-right mr-2",attrs:{variant:"danger"},on:{click:function(a){return t.approveAct(2)}}},[t._v("Tolak Tiket")]):t._e(),"4"!==t.listDetailTicket.ticket_status?e("b-button",{staticClass:"float-right mr-2",attrs:{variant:"warning"},on:{click:function(a){return t.approveAct(4)}}},[t._v("Tutup Tiket")]):e("b-button",{staticClass:"float-right mr-2",attrs:{variant:"secondary"}},[t._v("Tiket Telah di Tutup")])],1):t._e()],1),e("b-row",[e("b-col",{attrs:{md:"12"}},[e("div",[e("span",{staticClass:"text-dark"},[t._v("Deskripsi")]),e("b-alert",{staticClass:"text-dark",attrs:{show:"",variant:"secondary"}},[t._v(" "+t._s(t.listDetailTicket.ticket_desc)+" ")])],1)])],1)]},proxy:!0}])})],1),e("b-col",{staticClass:"profile-center",attrs:{md:"8"}},[e("b-row",["4"!==t.listDetailTicket.ticket_status&&"2"!==t.listDetailTicket.ticket_status?e("b-col",{attrs:{md:"12"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"w-100",attrs:{variant:"primary",size:"lg"}},[t._v("Balas Tiket")]),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[e("b-card",[e("b-form",[e("b-form-group",{staticClass:"form-group",attrs:{label:"Isi Balasan","label-for":"task_desc"}},[e("wysiwyg",{model:{value:t.reply.reply_text,callback:function(a){t.$set(t.reply,"reply_text",a)},expression:"reply.reply_text"}})],1)],1),e("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:t.replyAct}},[t._v("Balas Tiket")])],1)],1)],1):t._e()],1),e("hr"),e("tab-content",{attrs:{id:"pills-tabContent-2"}},[e("tab-content-item",{attrs:{active:!0,id:"profile-feed","aria-labelled-by":"pills-feed-tab"}},[t._l(t.replyDetailTicket,(function(a,s){return[e("iq-card",{key:s,style:10==a.role?"background:#fafff7;":"",attrs:{"body-class":"p-0"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"user-post-data p-1",style:10==a.role?"background:#fafff7;border-top-right-radius: 15px;border-top-left-radius: 10px;":""},[e("div",{staticClass:"d-flex flex-wrap"},[e("div",{staticClass:"media-support-user-img mr-3"}),e("div",{staticClass:"media-support-info mt-2"},[e("h5",{staticClass:"mb-0"},[e("b-link",{attrs:{href:"#"}},[t._v(t._s(a.username))])],1),e("p",{staticClass:"mb-0 text-primary"},[t._v(t._s(a.role_name))])]),e("div",{staticClass:"iq-card-header-toolbar d-flex align-items-center mr-3"},[e("b-link",{staticClass:"text-secondary",attrs:{href:"#"}},[t._v(t._s(t._f("moment")(a.created_at)))])],1)])]),e("hr",{staticClass:"mt-0 mb-2"}),e("p",{staticClass:"pr-4 pl-4 pb-3 mb-0 text-dark"},[t._v(" "+t._s(a.reply_text)+" ")])]},proxy:!0}],null,!0)})]}))],2)],1)],1)],1)],1)},i=[],r=e("5530"),l=e("bcae"),c=e("a662"),n=e("2f62"),o=e("c1df"),d=e.n(o),u={name:"TicketDetail",props:{},mounted:function(){l["d"].index(),this.detailTicket(),this.replyDetail()},data:function(){return{reply:{reply_text:"",ticket_id:parseInt(this.$route.params.id)},listDetailTicket:[],replyDetailTicket:[]}},filters:{moment:function(t){return d()(t).format("hh:mm:ss A, D MMM YYYY")}},computed:Object(r["a"])({},Object(n["c"])({userData:"authModule/getUserData"})),methods:{replyAct:function(){var t=this;c["a"].replyTicket(this.reply).then((function(a){a.status&&(l["d"].showSnackbar("success","Membalas tiket berhasil..."),t.reply.reply_text="",t.replyDetail())})).catch()},detailTicket:function(){var t=this;c["a"].detailTicketPHP(parseInt(this.$route.params.id)).then((function(a){a.status&&(t.listDetailTicket=a.data.data[0])})).catch()},replyDetail:function(){var t=this;c["a"].detailReplyPHP(parseInt(this.$route.params.id)).then((function(a){a.status&&(t.replyDetailTicket=a.data.data)})).catch()},approveAct:function(t){var a=this,e={ticket_status:t};c["a"].approveTicket(parseInt(this.$route.params.id),e).then((function(t){t.status&&a.detailTicket()})).catch()}}},p=u,b=e("2877"),k=Object(b["a"])(p,s,i,!1,null,null,null);a["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d22bd50.7229adde.js.map