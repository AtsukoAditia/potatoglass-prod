(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21eaf8"],{d72a:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{fluid:""}},[r("b-row",[r("b-col",{attrs:{sm:"12"}},[r("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[r("b-row",[r("b-col",{staticClass:"my-1",attrs:{md:"4"}},[r("label",{attrs:{for:"searchInput"}},[t._v("Pencarian")]),r("b-form-input",{attrs:{id:"searchInput",type:"search",size:"md",placeholder:"Ketik disini untuk mencari..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),r("b-col",{staticClass:"my-1 float-right",attrs:{md:"2"}},[r("label",{attrs:{for:"searchInput"}},[t._v("Filter")]),r("b-form-group",{staticClass:"mb-0"},[r("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),r("b-col",{staticClass:"my-1 float-right",attrs:{md:"4"}},[r("label",{attrs:{for:"searchInput"}},[t._v("Role")]),r("b-form-group",[r("b-form-radio-group",{attrs:{id:"btnFilter",options:t.selRole,name:"radios-btn-default",buttons:""},on:{change:t.filRole},model:{value:t.filterRole,callback:function(e){t.filterRole=e},expression:"filterRole"}})],1)],1)],1),r("br"),r("b-table",{ref:"dTable",attrs:{items:t.getDataList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(no)",fn:function(e){return[r("span",{attrs:{"v-for":e}},[t._v(" "+t._s((t.currentPage-1)*t.perPage+(e.index+1))+" ")])]}},{key:"cell(role)",fn:function(e){return[1==e.item.user_role?r("span",[t._v("Vendor")]):t._e(),2==e.item.user_role?r("span",[t._v("Contractor")]):t._e(),0==e.item.user_role?r("span",[t._v("Non-Contractor")]):t._e(),10==e.item.user_role?r("span",[t._v("Admin")]):t._e(),99==e.item.user_role?r("span",[t._v("Superadmin")]):t._e()]}},{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.created_at))+" ")]}},{key:"cell(actions)",fn:function(e){return[r("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(r){return t.info(e.item,e.index,r.target)}}},[t._v(" Detil ")])]}}])}),r("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[r("pre",[t._v(t._s(t.infoModal.content))])])]},proxy:!0}])})],1)],1),r("b-row",{staticClass:"my-2"},[r("b-col",{attrs:{sm:"12",md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},a=[],n=r("5530"),s=(r("d81d"),r("4de4"),r("d3b7"),r("bcae")),l=r("22dc"),i=r("2f62"),c=r("c1df"),u=r.n(c),f={name:"UserLog",mounted:function(){s["d"].index()},data:function(){return{fields:[{key:"no",label:"No.",sortable:!0,sortDirection:"desc"},{key:"username",label:"Username",sortable:!0,sortDirection:"desc"},{key:"role",label:"Peran",sortable:!0},{key:"activity",label:"Aktivitas",sortable:!0},{key:"created_at",label:"Waktu",sortable:!0},{key:"activity_type",label:"Tipe",sortable:!0},{key:"actions",label:"Aksi"}],totalRows:1,currentPage:1,perPage:20,pageOptions:[20,30,40,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},filterRole:"",selRole:[{text:"All",value:"99"},{text:"Admin",value:"10"},{text:"Vendor",value:"1"},{text:"Contractor",value:"2"}]}},filters:{moment:function(t){return u()(t).format("D/MMM/YYYY, hh:mm:ss A")}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},components:{},beforeMount:function(){},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(i["b"])({storeLogList:"masterModule/addLogList"})),Object(i["c"])({logList:"masterModule/logListState",getUserState:"Setting/dataUserState"})),{},{getDataList:function(t){var e=this,r=(t.currentPage-1)*t.perPage;1===t.currentPage&&(r=0);var o=t.filter;null===o&&(o=""),"99"===this.filterRole&&(this.filterRole="");var a="",n="";return l["a"].user.logUserPHP(a,n,r,t.perPage,this.filterRole).then((function(t){var r=t.data;if(t.status){e.storeLogList(r.data),e.json_data=r.data,e.totalRows=r._meta.total;var o=e.logList();return o||[]}r.errors.length>0&&e.$refs.form.setErrors(r.errors)})).finally((function(){e.loading=!1}))},info:function(t,e,r){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,r)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},filRole:function(t){this.$refs.dTable.refresh()}})},d=f,p=r("2877"),m=Object(p["a"])(d,o,a,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d21eaf8.74e04c6a.js.map