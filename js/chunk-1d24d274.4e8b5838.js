(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d24d274"],{"106a":function(t,e,a){},"6ea6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[t._v("List Data Lokasi Vendor")])]},proxy:!0},{key:"body",fn:function(){return[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Cari nama vendor ","label-for":"filterInput","label-cols-sm":"3","label-align-sm":"right"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Ketik disini..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1),a("b-col",{staticClass:"md-5"},[a("b-form-group",{attrs:{label:"Filter","label-for":"btnFilter","label-cols-sm":"3","label-align-sm":"right"}},[a("b-form-radio-group",{attrs:{id:"btnFilter",options:t.selStatus,name:"radios-btn-default",buttons:""},on:{change:t.filStatus},model:{value:t.filterStatus,callback:function(e){t.filterStatus=e},expression:"filterStatus"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("router-link",{attrs:{to:t.toVendorAdd}},[a("b-button",{staticClass:"float-right",attrs:{variant:"primary"}},[a("i",{staticClass:"ri-bill-fill"}),t._v("Add Vendor")])],1)],1)],1),a("b-table",{ref:"dTable",attrs:{striped:"",hover:"","show-empty":"",stacked:"sm",items:t.getDataList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(no)",fn:function(e){return[t._v(" "+t._s((t.currentPage-1)*t.perPage+(e.index+1))+" ")]}},{key:"cell(name_vendor)",fn:function(e){return[a("img",{staticClass:"mr-2 imgTBL",attrs:{src:""+e.item.logo,width:"60"},on:{error:t.imgError}}),a("span",{staticClass:"d-block font-weight-bold"},[t._v(t._s(e.item.name_vendor))])]}},{key:"cell(kota)",fn:function(e){return[t._v(" "+t._s(e.item.kota)+", "+t._s(e.item.provinsi)+" ")]}},{key:"cell(alamat)",fn:function(e){return[a("div",{staticClass:"txtAlamat"},[t._v(" "+t._s(e.item.alamat)+", "+t._s(e.item.kota)+", "+t._s(e.item.provinsi)+" - "+t._s(e.item.kode_pos)+" "),a("div",["0.00000000"!=e.item.address_lat&&"0.00000000"!=e.item.address_long?a("a",{attrs:{href:"https://www.google.com/maps/search/%09"+e.item.address_lat+","+e.item.address_long,target:"_blank"}},[t._v("Lihat di Maps")]):a("a",{attrs:{href:"https://maps.google.com/?q="+e.item.alamat,target:"_blank"}},[t._v("Lihat di Maps")])])])]}},{key:"cell(contact)",fn:function(e){return[a("div",[t._v("Email: "),a("a",{attrs:{href:"to:"+e.item.email}},[t._v(t._s(e.item.email))])]),a("div",[t._v("Phone: "),a("a",{attrs:{href:"tel:"+e.item.phone}},[t._v(t._s(e.item.phone))])]),a("div",[t._v("Cp1: "),a("a",{attrs:{href:"tel:"+e.item.cp1}},[t._v(t._s(e.item.cp1))])]),a("div",[t._v("Cp2: "),a("a",{attrs:{href:"tel:"+e.item.cp2}},[t._v(t._s(e.item.cp2))])])]}},{key:"cell(status)",fn:function(e){return[a("div",[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Ubah Status Vendor?"},on:{click:function(a){return t.statusVendor(e.item)}}},["1"==e.item.status?a("b-badge",{attrs:{variant:"success"}},[a("i",{staticClass:"ri-user-follow-line"}),t._v(" Verified")]):t._e(),"0"==e.item.status?a("b-badge",{attrs:{variant:"info"}},[a("i",{staticClass:"ri-user-shared-line"}),t._v(" UnVerified")]):t._e(),"2"==e.item.status?a("b-badge",{attrs:{variant:"danger"}},[a("i",{staticClass:"ri-user-unfollow-line"}),t._v(" Banned")]):t._e()],1)])]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"d-flex"},[a("router-link",{attrs:{to:"vendor/"+e.item.user_id}},[a("b-button",{staticClass:"mr-1",attrs:{type:"button",size:"sm",variant:"success"}},[a("div",{staticClass:"icon",attrs:{"data-icon":""}})])],1),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteVendor(e.item.id)}}},[a("div",{staticClass:"icon",attrs:{"data-icon":""}})])],1)]}}])}),a("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[a("pre",[t._v(t._s(t.infoModal.content))])])]},proxy:!0}])})],1),a("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1),a("b-modal",{attrs:{id:"modalStatus",centered:"","hide-header":""},on:{ok:t.changeStatus,hidden:t.resetModal}},[a("b-form-group",{attrs:{id:"inpStat1",label:"Pilih Status Akun :","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.statusUser,required:""},model:{value:t.statusId,callback:function(e){t.statusId=e},expression:"statusId"}})],1),"2"==t.statusId?a("b-form-group",{attrs:{id:"inpStat2",label:"Alasan di Ban :","label-for":"txtReason"}},[a("b-form-textarea",{attrs:{id:"txtReason",placeholder:"Berikan alasan kenapa akun ini harus di ban...",rows:"3","max-rows":"6"},model:{value:t.banReason,callback:function(e){t.banReason=e},expression:"banReason"}})],1):t._e()],1)],1)},r=[],i=(a("d81d"),a("4de4"),a("d3b7"),a("bcae")),n=a("22dc"),o={name:"VendorList",props:{toVendorAdd:{type:Object,default:function(){return{name:"vendor.addvendor"}}}},mounted:function(){i["d"].index()},data:function(){return{fields:[{key:"no",label:"No."},{key:"name_vendor",label:"Nama Vendor"},{key:"alamat",label:"Alamat",tdClass:"alamatTh"},{key:"contact",label:"Kontak"},{key:"status",label:"Status"},{key:"actions",label:"Actions",sortable:!1}],totalRows:"",currentPage:1,perPage:10,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},search:"",totalDesserts:0,vendorList:[],loading:!0,options:{},selStatus:[{text:"All",value:"99"},{text:"Verified",value:"1"},{text:"UnVerified",value:"0"},{text:"Banned",value:"2"}],statusUser:[{text:"Verifikasi",value:"1"},{text:"Batal Verifikasi",value:"0"},{text:"Banned",value:"2"}],filterStatus:"",statusId:"",banReason:"",vendorId:"",vendorEmail:""}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{info:function(t,e,a){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},filStatus:function(t){this.$refs.dTable.refresh()},getDataList:function(t){var e=this,a=(t.currentPage-1)*t.perPage;1===t.currentPage&&(a=0);var s=t.filter;return null===s&&(s=""),"99"===this.filterStatus&&(this.filterStatus=""),n["a"].vendor.getAllVendor(a,t.perPage,s,"","",this.filterStatus).then((function(t){var a=t.data;if(200===t.status){e.totalRows=0,null!=a.data&&(e.totalRows=a._meta.total);var s=a.data;return s||[]}t.data.errors.length>0&&e.$refs.form.setErrors(t.data.errors)})).finally((function(){e.loading=!1}))},statusVendor:function(t){this.statusId=t.status,this.vendorId=t.user_id,this.vendorEmail=t.email,this.$bvModal.show("modalStatus")},changeStatus:function(){var t=this,e=confirm("Ubah status akun vendor ini?");if(e){i["d"].custLoader(!0);var a={ban_reason:this.banReason,email:this.vendorEmail};n["a"].vendor.getVerifAcc(this.vendorId,this.statusId,a).then((function(a){var s=a.data;200===a.status?"SUCCESS"===s.message&&(i["d"].showSnackbar("success","Status vendor berhasil diubah."),t.$bvModal.hide("modalStatus"),t.$refs.dTable.refresh()):a.data.errors.length>0&&(t.$refs.form.setErrors(a.data.errors),e("Gagal"))})).finally((function(){i["d"].custLoader(!1)}))}},resetModal:function(){this.banReason="",this.vendorId=""},deleteVendor:function(t){var e=this,a=confirm("Apakah data ini mau dihapus?");a&&n["a"].vendor.deleteVendor(t).then((function(t){t.status?(i["d"].showSnackbar("success","Hapus data vendor berhasil."),e.$refs.dTable.refresh()):t.data.errors.length>0&&(e.$refs.form.setErrors(t.data.errors),a("Gagal"))})).finally((function(){e.loading=!1}))},imgError:function(t){t.target.src=i["c"]},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},l=o,d=(a("810b"),a("2877")),u=Object(d["a"])(l,s,r,!1,null,null,null);e["default"]=u.exports},"810b":function(t,e,a){"use strict";a("106a")}}]);
//# sourceMappingURL=chunk-1d24d274.4e8b5838.js.map