{"version":3,"sources":["webpack:///./src/views/Pages/Admin/VendorMerk.vue?dcb6","webpack:///./src/views/Pages/Admin/VendorMerk.vue?f041","webpack:///src/views/Pages/Admin/VendorMerk.vue","webpack:///./src/views/Pages/Admin/VendorMerk.vue?f8b3","webpack:///./src/views/Pages/Admin/VendorMerk.vue?7dfd"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","proxy","model","value","callback","$$v","filter","expression","ref","MerkList","fields","currentPage","perPage","sortBy","sortDesc","on","onFiltered","$event","row","_s","index","assetUrl","cekImg","item","assets","name_category","imgError","_f","created_at","directives","name","rawName","modifiers","accVerif","id","totalRows","staticRenderFns","mounted","data","pageOptions","sortDirection","filterOn","infoModal","title","content","constant","userrole","userData","filters","moment","computed","sortOptions","methods","deleteVendor","alert","ctx","currPage","e","target","src","dt","img","filteredItems","length","component"],"mappings":"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","file":"js/chunk-03395b50.9008196e.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VendorMerk.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\",\"sm\":\"12\"}},[_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h4',{staticClass:\"card-title\"},[_vm._v(\"List Request Merk\")])]},proxy:true},{key:\"body\",fn:function(){return [_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"type\":\"search\",\"id\":\"filterInput\",\"placeholder\":\"Cari data disini\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append')],1)],1)],1)],1),_c('b-table',{ref:\"dTable\",attrs:{\"show-empty\":\"\",\"stacked\":\"md\",\"items\":_vm.MerkList,\"fields\":_vm.fields,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"filter\":_vm.filter,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc},on:{\"filtered\":_vm.onFiltered,\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"cell(no)\",fn:function(row){return [_vm._v(\" \"+_vm._s(((_vm.currentPage - 1) * _vm.perPage) + (row.index + 1))+\" \")]}},{key:\"cell(assets)\",fn:function(row){return [_c('a',{attrs:{\"href\":_vm.assetUrl + 'category/' + _vm.cekImg(row.item.assets),\"target\":\"_blank\"}},[_c('b-img',{staticClass:\"imgTBL\",attrs:{\"src\":_vm.assetUrl + 'category/' + _vm.cekImg(row.item.assets),\"alt\":row.item.name_category},on:{\"error\":_vm.imgError}})],1)]}},{key:\"cell(created_at)\",fn:function(row){return [_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(row.item.created_at))+\" \")])]}},{key:\"cell(actions)\",fn:function(row){return [_c('div',{staticClass:\"d-flex\"},[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"size\":\"sm\",\"variant\":\"success\",\"title\":\"Setujui Merk ini?\"},on:{\"click\":function($event){return _vm.accVerif(row.item.id)}}},[_c('div',{staticClass:\"icon\",attrs:{\"data-icon\":\"S\"}})])],1)]}}])}),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"fill\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)]},proxy:true}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container fluid=\"\">\n    <b-row>\n      <b-col md=\"12\" sm=\"12\">\n        <iq-card>\n          <template v-slot:headerTitle>\n            <h4 class=\"card-title\">List Request Merk</h4>\n          </template>\n          <template v-slot:body>\n            <b-row class=\"mb-2\">\n              <b-col md=\"4\">\n              <b-form-group>\n                  <b-input-group size=\"sm\">\n                    <b-form-input\n                      v-model=\"filter\"\n                      type=\"search\"\n                      id=\"filterInput\"\n                      placeholder=\"Cari data disini\"\n                    ></b-form-input>\n                    <b-input-group-append>\n                      <!-- <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button> -->\n                    </b-input-group-append>\n                  </b-input-group>\n                </b-form-group>\n              </b-col>\n            </b-row>\n            <!-- Main table element -->\n            <b-table\n              show-empty\n              stacked=\"md\"\n              :items=\"MerkList\"\n              :fields=\"fields\"\n              :current-page=\"currentPage\"\n              :per-page=\"perPage\"\n              ref=\"dTable\"\n              :filter=\"filter\"\n              @filtered=\"onFiltered\"\n              :sort-by.sync=\"sortBy\"\n              :sort-desc.sync=\"sortDesc\"\n            >\n              <template v-slot:cell(no)=\"row\">\n                {{ ((currentPage - 1) * perPage) + (row.index + 1) }}\n              </template>\n              <template v-slot:cell(assets)=\"row\">\n                <a :href=\"assetUrl + 'category/' + cekImg(row.item.assets)\" target=\"_blank\">\n                  <b-img :src=\"assetUrl + 'category/' + cekImg(row.item.assets)\" class=\"imgTBL\"\n                    :alt=\"row.item.name_category\" @error=\"imgError\"></b-img>\n                </a>\n              </template>\n              <template v-slot:cell(created_at)=\"row\">\n                  <span> {{ row.item.created_at | moment }} </span>\n              </template>\n              <template v-slot:cell(actions)=\"row\">\n                <div class=\"d-flex\">\n                    <b-button size=\"sm\" variant=\"success\" v-b-tooltip.hover title=\"Setujui Merk ini?\" @click=\"accVerif(row.item.id)\">\n                      <div data-icon=\"S\" class=\"icon\"></div>\n                    </b-button>\n                </div>\n              </template>\n            </b-table>\n\n            <b-col sm=\"12\" md=\"6\" class=\"my-1\">\n              <b-pagination\n                v-model=\"currentPage\"\n                :total-rows=\"totalRows\"\n                :per-page=\"perPage\"\n                align=\"fill\"\n                size=\"sm\"\n                class=\"my-0\"\n              ></b-pagination>\n            </b-col>\n          </template>\n        </iq-card>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n<script>\nimport { core, brokenImage } from '../../../config/pluginInit'\nimport API from '@/services/admin'\nimport moment from 'moment'\nimport constant from '@/config/constant'\nimport { mapGetters } from 'vuex'\nexport default {\n  name: 'VendorMerk',\n  mounted () {\n    core.index()\n    // Set the initial number of items\n    // this.totalRows = this.MerkList.length\n    // this.getMerkList()\n  },\n  data () {\n    return {\n      fields: [\n        { key: 'no', label: 'No.', sortable: true, sortDirection: 'asc' },\n        { key: 'assets', label: 'Foto' },\n        { key: 'name_category', label: 'Nama Merk' },\n        { key: 'username', label: 'Vendor' },\n        { key: 'created_at', label: 'Tgl. Pengajuan' },\n        { key: 'actions', label: 'Actions' }\n      ],\n      totalRows: '',\n      currentPage: 1,\n      perPage: 15,\n      pageOptions: [5, 10, 15],\n      sortBy: '',\n      sortDesc: false,\n      sortDirection: 'asc',\n      filter: null,\n      filterOn: [],\n      infoModal: {\n        id: 'info-modal',\n        title: '',\n        content: ''\n      },\n      assetUrl: constant.urlAssetsPHP,\n      userrole: this.userData()\n    }\n  },\n  filters: {\n    moment: function (date) {\n      return moment(date).format('D MMMM YYYY')\n    }\n  },\n  computed: {\n    sortOptions () {\n      // Create an options list from our fields\n      return this.fields\n        .filter(f => f.sortable)\n        .map(f => {\n          return { text: f.label, value: f.key }\n        })\n    }\n  },\n  methods: {\n    ...mapGetters({\n      userData: 'authModule/getUserData'\n    }),\n    deleteVendor (id) {\n      const alert = confirm('Apakah data ini mau dihapus?')\n      if (alert) {\n        API.vendor\n          .deleteVendor(id).then(response => {\n            if (response.status) {\n              core.showSnackbar('success', 'Hapus data vendor berhasil.')\n              this.$refs.dTable.refresh()\n            } else if (response.data.errors.length > 0) {\n              this.$refs.form.setErrors(response.data.errors)\n              alert('Gagal')\n            }\n          }).finally(() => { this.loading = false })\n      }\n    },\n    accVerif (id) {\n      const alert = confirm('Verifikasi merk ini?')\n      if (alert) {\n        core.custLoader(true)\n        API.cat\n          .verifyMerk(id).then(response => {\n            const dt = response.data\n            if (response.status === 200) {\n              if (dt.message === 'SUCCESS') {\n                core.showSnackbar('success', 'Verifikasi data merk berhasil.')\n                this.$refs.dTable.refresh()\n              }\n            } else if (response.data.errors.length > 0) {\n              this.$refs.form.setErrors(response.data.errors)\n              alert('Gagal')\n            }\n          }).finally(() => {\n            core.custLoader(false)\n          })\n      }\n    },\n    MerkList (ctx, callback) {\n      let currPage = (ctx.currentPage - 1) * ctx.perPage\n      if (ctx.currentPage === 1) {\n        currPage = 0\n      }\n      API.cat\n        .getMerkVerified(currPage, ctx.perPage, 'merk').then(response => {\n          var dt = response.data\n          if (response.status === 200) {\n            this.totalRows = dt._meta.total\n            const items = dt.data\n            callback(items)\n          } else if (response.data.errors.length > 0) {\n            this.$refs.form.setErrors(response.data.errors)\n          }\n        }).finally(() => { this.loading = false })\n    },\n\n    imgError (e) {\n      e.target.src = brokenImage\n    },\n    cekImg (dt) {\n      if (dt != null) {\n        const img = dt.split(',')\n        return img[0]\n      } else {\n        return '-'\n      }\n    },\n    onFiltered (filteredItems) {\n      this.totalRows = filteredItems.length\n      this.currentPage = 1\n    }\n  }\n}\n\n</script>\n\n<style>\n/* .iq-card-body{\n  flex: unset;\n} */\n.imgTBL {\n  width: 100px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VendorMerk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VendorMerk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VendorMerk.vue?vue&type=template&id=e9270cd2&\"\nimport script from \"./VendorMerk.vue?vue&type=script&lang=js&\"\nexport * from \"./VendorMerk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VendorMerk.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}