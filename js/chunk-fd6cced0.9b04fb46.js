(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd6cced0"],{"1dac":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h2",{staticClass:"mb-0"},[e._v("Masuk ke Dashboard")]),t("p",[e._v("Masukan email dan password akun anda untuk ke website dashboard.")]),t("sign-in1-form",{attrs:{formType:"passport"}})],1)},o=[],n=t("b0af"),r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[t("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(a){return a.preventDefault(),s(e.aesEncrypt)}}},[t("ValidationProvider",{attrs:{vid:"email",name:"Alamat Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"emailInput"}},[e._v("Alamat Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:"form-control mb-0"+(s.length>0?" is-invalid":""),attrs:{type:"email",id:"emailInput","aria-describedby":"emailHelp",placeholder:"app.proyekita@gmail.com",required:""},domProps:{value:e.user.email},on:{input:function(a){a.target.composing||e.$set(e.user,"email",a.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])])]}}],null,!0)}),t("ValidationProvider",{attrs:{vid:"password",name:"Kata Sandi",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"passwordInput"}},[e._v("Kata Sandi")]),t("router-link",{staticClass:"iq-waves-effect pr-4 float-right",attrs:{to:"/auth/password-reset1"}},[e._v(" Lupa password? ")]),"checkbox"===e.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0 w-85 d-inline"+(s.length>0?" is-invalid":""),attrs:{id:"passwordInput",placeholder:"******",autocomplete:"off",required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.user.password)?e._i(e.user.password,null)>-1:e.user.password},on:{change:function(a){var t=e.user.password,s=a.target,o=!!s.checked;if(Array.isArray(t)){var n=null,r=e._i(t,n);s.checked?r<0&&e.$set(e.user,"password",t.concat([n])):r>-1&&e.$set(e.user,"password",t.slice(0,r).concat(t.slice(r+1)))}else e.$set(e.user,"password",o)}}}):"radio"===e.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0 w-85 d-inline"+(s.length>0?" is-invalid":""),attrs:{id:"passwordInput",placeholder:"******",autocomplete:"off",required:"",type:"radio"},domProps:{checked:e._q(e.user.password,null)},on:{change:function(a){return e.$set(e.user,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0 w-85 d-inline"+(s.length>0?" is-invalid":""),attrs:{id:"passwordInput",placeholder:"******",autocomplete:"off",required:"",type:e.type},domProps:{value:e.user.password},on:{input:function(a){a.target.composing||e.$set(e.user,"password",a.target.value)}}}),t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2",attrs:{variant:"info",title:e.tooltipEye},on:{click:e.showPassword}},[t("span",{class:e.iconEye})]),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(s[0]))])])],1)]}}],null,!0)}),t("div",{staticClass:"d-inline-block w-100"},[t("div",{staticClass:"custom-control custom-checkbox d-inline-block mt-2 pt-1"},[t("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.formType}}),t("label",{staticClass:"custom-control-label",attrs:{for:e.formType}},[e._v("Ingatkan saya")])]),t("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[e._v("Masuk")])]),t("div",{staticClass:"sign-info"},[t("span",{staticClass:"dark-color d-inline-block line-height-2"},[e._v(" Tidak punya akun akses? "),t("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/auth/sign-up1"}},[e._v(" Daftar ")])],1)])],1)]}}])})},i=[],c=t("5530"),u=(t("d3b7"),t("25f0"),t("6bf2")),d=t("2f62"),l=t("bcae"),p=t("59ca"),f=t.n(p),m=(t("8071"),t("358c")),h=t("3452"),v=t.n(h),g={name:"SignIn1Form",props:["formType","unique","password"],data:function(){return{user:{email:"",password:""},saltLength:11,type:"password",iconEye:"fa fa-eye",tooltipEye:"Tampilkan password"}},mounted:function(){this.user.unique=this.$props.unique,this.user.password=this.$props.password},computed:{},methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])({storeUserData:"authModule/authUserAction",storeTokenAuth:"authModule/tokenUserAction",storeTokenExp:"authModule/tokenExpAction",storeIsLogin:"authModule/checkLoginAction"})),{},{showPassword:function(){"password"===this.type?(this.type="text",this.iconEye="fa fa-eye-slash",this.tooltipEye="Sembunyikan password"):(this.type="password",this.iconEye="fa fa-eye",this.tooltipEye="Tampilkan password")},aesEncrypt:function(){var e=v.a.SHA256(this.user.password).toString(v.a.enc.Hex);this.user.password=e,this.onSubmit()},onSubmit:function(){"passport"===this.formType&&this.actionLogin()},actionLogin:function(){var e=this;l["d"].custLoader(!0);var a=new FormData;a.append("email",this.user.email),a.append("password",this.user.password),u["a"].loginPHP(a).then((function(a){var t=a.data;if("SUCCESS"===t.message){l["d"].showSnackbar("success","Login berhasil..."),e.getTokenFCM();var s={auth:!0,authType:"passport",verified:t.data["verified_vendor"],user:t.data.user,isLoggedin:!0};e.storeUserData(s),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("access_token",t.data.access["token"]),localStorage.setItem("token_exp",t.data.access["exp"]),"1"===t.data.user.role?!1===t.data.verified_vendor?window.location.href="/edit-data-vendor":window.location.href="/vdashboard":"10"===t.data.user.role?window.location.href="/home-1":"2"===t.data.user.role?window.location.href="/cdashboard":window.location.href="/"}})).catch((function(a){var t=a.response;"FAILED"===t.data.message?l["d"].showSnackbar("error","Email atau Password salah, silahkan periksa kembali..."):"BANNED"===t.data.message?l["d"].showSnackbar("warning",t.data.data):l["d"].showSnackbar("error","Terjadi kesalahan pada sistem..."),e.user.password=""})).finally((function(){l["d"].custLoader(!1)}))},getTokenFCM:function(){var e=this,a={apiKey:m["a"].firebaseConfig.apiKey,authDomain:m["a"].firebaseConfig.authDomain,databaseURL:"https://".concat(m["a"].firebaseConfig.projectId,".firebaseio.com"),projectId:m["a"].firebaseConfig.projectId,storageBucket:"".concat(m["a"].firebaseConfig.projectId,".appspot.com"),messagingSenderId:m["a"].firebaseConfig.messagingSenderId,appId:"1:1023189231134:web:cb6c8fb8cf8f2d5fb6700f"};f.a.apps.length?f.a.app():f.a.initializeApp(a);var t=f.a.messaging();t.usePublicVapidKey("BGQsBy20RXZAFZY4mn8Fo-83J6_fIhrdAi1QZ_Hh_tggIGmYHiti4xsPUatEROFjPfedgGSU95fNd7vgb5yhFbk"),t.requestPermission().then((function(){t.getToken().then((function(a){e.saveNotificationToken(a)}))})).catch((function(){})),t.onTokenRefresh((function(){t.getToken().then((function(e){this.saveNotificationToken(e)})).catch((function(){}))}))},saveNotificationToken:function(e){var a={token:e};u["a"].sendTokenFCM(a).then((function(e){})).catch((function(e){e.response?e.response.data.registration_id:e.request}))}})},b=g,w=(t("7730"),t("2877")),k=Object(w["a"])(b,r,i,!1,null,"f3fa0262",null),y=k.exports,P={name:"SignIn1",components:{SignIn1Form:y},data:function(){return{}},mounted:function(){var e=localStorage.getItem("access_token");void 0!==e&&null!==e&&this.$router.push({name:"mini.dashboard.home-2"})},methods:{loginOAuth0:function(){new n["a"].WebAuth(m["a"].auth0Config).authorize()}}},_=P,A=Object(w["a"])(_,s,o,!1,null,null,null);a["default"]=A.exports},"44cf":function(e,a,t){},"59ca":function(e,a,t){"use strict";var s=t("c23d");function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var n=o(s),r="firebase",i="7.24.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n["default"].registerVersion(r,i,"app"),e.exports=n["default"]},"6bf2":function(e,a,t){"use strict";t("99af");var s=t("dde5"),o=t("358c");a["a"]={login:function(e){return s["a"].post("/login",e)},loginPHP:function(e){return s["a"].post("".concat(o["a"].urlAPIPHP,"/Account/login"),e)},register:function(e){return s["a"].post("/register",e)},checkAccount:function(e,a){var t="";return""!==e&&(t+="?username=".concat(e)),""!==a&&(t+="?email=".concat(a)),s["a"].get("".concat(o["a"].urlAPIPHP,"/Account/check_account").concat(t))},registerVendor:function(e){return Object(s["a"])({method:"post",url:"".concat(o["a"].urlAPIPHP,"/Account/register/vendor"),data:e,headers:{}})},refreshToken:function(){return s["a"].get("auth/anonymous")},getBahanPHP:function(){return s["a"].get("".concat(o["a"].urlAPIPHP,"/Account/master_bahan"))},getKodePosPHP:function(e){return s["a"].get("".concat(o["a"].urlAPIPHP,"/Address/kodepos?kodepos=").concat(e))},resendVerifEmail:function(e){return s["a"].get("".concat(o["a"].urlAPIPHP,"/Account/send_verify_email/").concat(e))},sendTokenFCM:function(e){return s["a"].post("/register/fcm",e)},sendOTP:function(e){return Object(s["a"])({method:"post",url:"https://boma.go.be.teras.camp/v1/forgot/password",data:e,headers:{}})},verifyOTP:function(e){return Object(s["a"])({method:"post",url:"https://boma.go.be.teras.camp/v1/verify/otp",data:e,headers:{}})},changePass:function(e){return s["a"].post("/change/new/password",e)}}},7730:function(e,a,t){"use strict";t("44cf")}}]);
//# sourceMappingURL=chunk-fd6cced0.9b04fb46.js.map