(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5144cae2"],{"0983":function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{sm:"12"}},[e("iq-card",{scopedSlots:a._u([{key:"headerTitle",fn:function(){return[e("h4",{staticClass:"card-title"},[a._v("Daftar Kategori Material")])]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[e("b-row",{staticClass:"mb-2"},[e("b-col",{attrs:{md:"4"}},[e("b-form-group",[e("b-input-group",{attrs:{size:"sm"}},[e("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Cari data disini"},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}}),e("b-input-group-append")],1)],1)],1)],1),e("b-table",{ref:"dTable",attrs:{"show-empty":"",stacked:"md",items:a.getDataList,fields:a.fields,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter},on:{filtered:a.onFiltered},scopedSlots:a._u([{key:"cell(no)",fn:function(t){return[e("span",{attrs:{"v-for":t}},[a._v(" "+a._s((a.currentPage-1)*a.perPage+(t.index+1))+" ")])]}},{key:"cell(limit_min_stok)",fn:function(t){return[a._v(" "+a._s(a.separatorNum(t.item.limit_min_stok))+" ")]}},{key:"cell(photo)",fn:function(t){return[e("a",{attrs:{href:a.assetUrl+"material/"+t.item.photo,target:"_blank"}},[e("b-img",{staticClass:"imgTBL",attrs:{src:a.assetUrl+"material/"+t.item.photo},on:{error:a.imgError}})],1)]}},{key:"cell(detail)",fn:function(t){return[e("p",[e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Panjang Dimensi Barang (Cm)"}},[e("b",[a._v("P")]),a._v(" "+a._s(a.separatorNum(t.item.panjang)))]),a._v(" x "),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Luas Dimensi Barang (Cm)"}},[e("b",[a._v("L")]),a._v(" "+a._s(a.separatorNum(t.item.lebar)))]),a._v(" x "),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Tinggi Dimensi Barang (Cm)"}},[e("b",[a._v("T")]),a._v(" "+a._s(a.separatorNum(t.item.tinggi)))]),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-block",attrs:{title:"Berat Barang"}},[e("b",[a._v("Berat")]),a._v(" "+a._s(a.separatorNum(t.item.berat))+" Kg")])])]}},{key:"cell(actions)",fn:function(t){return[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"success",title:"Setujui Kategori ini?"},on:{click:function(e){return a.accVerif(t.item.id)}}},[e("div",{staticClass:"icon",attrs:{"data-icon":"S"}})]),e("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"info"},on:{click:t.toggleDetails}},[e("div",{staticClass:"icon",attrs:{"data-icon":""}})]),e("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(e){return a.updMaterial(t.item)}}},[e("div",{staticClass:"icon dripicons-document-edit"})]),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Hapus Material Ini",expression:"'Hapus Material Ini'",modifiers:{top:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return a.delMaterial(t.item)}}},[e("div",{staticClass:"icon",attrs:{"data-icon":""}})])]}},{key:"row-details",fn:function(t){return[e("h5",{staticClass:"border-bottom mb-2"},[a._v("Detail spesifikasi :")]),e("div",{staticClass:"row"},a._l(t.item.type,(function(t,i){return e("div",{key:i,staticClass:"col-md-4 mb-1"},[e("span",{staticClass:"font-weight-bold"},[a._v(a._s(a.capitalFirst(t.type_name)))]),e("div",[a._v(a._s(t.name_category.replace(/,/g,", ")))])])})),0)]}}])}),e("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":a.totalRows,"per-page":a.perPage,align:"fill",size:"sm"},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)]},proxy:!0}])})],1)],1),e("b-modal",{attrs:{id:"modalEditMaterial",title:"Edit data material",size:"lg","ok-title":"Edit data","cancel-title":"Batal"},on:{ok:a.updateMaterial,hidden:a.resetModalEdit}},[e("form",[e("b-container",[e("b-row",[e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"nama_material",label:"Nama Material"}},[e("b-form-input",{attrs:{id:"nama_material",type:"text",placeholder:"-"},model:{value:a.materialEdit.nama_material,callback:function(t){a.$set(a.materialEdit,"nama_material",t)},expression:"materialEdit.nama_material"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"id_merk",label:"Merk"}},[e("multiselect",{attrs:{id:"id_merk",label:"category",placeholder:"Type to search","open-direction":"bottom",searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.merkSel.map((function(a){return a.id})),"custom-label":function(t){return a.merkSel.find((function(a){return a.id==t})).category}},model:{value:a.materialEdit.id_merk,callback:function(t){a.$set(a.materialEdit,"id_merk",t)},expression:"materialEdit.id_merk"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"id_satuan",label:"Satuan"}},[e("multiselect",{attrs:{id:"id_satuan",label:"category",placeholder:"Type to search","open-direction":"bottom",searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.satuanSel.map((function(a){return a.id})),"custom-label":function(t){return a.satuanSel.find((function(a){return a.id==t})).category}},model:{value:a.materialEdit.id_satuan,callback:function(t){a.$set(a.materialEdit,"id_satuan",t)},expression:"materialEdit.id_satuan"}})],1)],1),e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{"label-for":"files",label:"Photo"}},[e("input",{ref:"files",attrs:{type:"file",placeholder:"Pilih file foto material",id:"files"},on:{change:function(t){return a.handleFileUploads()}}})])],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"limit_min_stocks",label:"Minimal Stok"}},[e("b-form-input",{attrs:{id:"limit_min_stocks",type:"number",placeholder:"-"},model:{value:a.limit_min_stocks,callback:function(t){a.limit_min_stocks=t},expression:"limit_min_stocks"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"type_delivery",label:"Pengiriman"}},[e("multiselect",{attrs:{id:"type_delivery",label:"category",placeholder:"Type to search","open-direction":"bottom",multiple:!0,searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.pengirimanSel.map((function(a){return a.id})),"custom-label":function(t){return a.pengirimanSel.find((function(a){return a.id==t})).category}},model:{value:a.type_deliverys,callback:function(t){a.type_deliverys=t},expression:"type_deliverys"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"id_cat_rab",label:"Kategori di RAB"}},[e("multiselect",{attrs:{id:"id_cat_rab",label:"category",placeholder:"Type to search","open-direction":"bottom",multiple:!0,searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.catRABSel.map((function(a){return a.id})),"custom-label":function(t){return a.catRABSel.find((function(a){return a.id==t})).category}},model:{value:a.id_cat_rabs,callback:function(t){a.id_cat_rabs=t},expression:"id_cat_rabs"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"id_cat_pekerjaan",label:"Kategori Pekerjaan"}},[e("multiselect",{attrs:{id:"id_cat_pekerjaan",label:"category",placeholder:"Type to search","open-direction":"bottom",multiple:!0,searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.catPekerjaanSel.map((function(a){return a.id})),"custom-label":function(t){return a.catPekerjaanSel.find((function(a){return a.id==t})).category}},model:{value:a.id_cat_pekerjaans,callback:function(t){a.id_cat_pekerjaans=t},expression:"id_cat_pekerjaans"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"id_fungsi",label:"Fungsi"}},[e("multiselect",{attrs:{id:"id_fungsi",label:"category",placeholder:"Type to search","open-direction":"bottom",multiple:!0,searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.fungsiSel.map((function(a){return a.id})),"custom-label":function(t){return a.fungsiSel.find((function(a){return a.id==t})).category}},model:{value:a.id_fungsis,callback:function(t){a.id_fungsis=t},expression:"id_fungsis"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"id_bahan",label:"Bahan"}},[e("multiselect",{attrs:{id:"id_bahan",label:"category",placeholder:"Type to search","open-direction":"bottom",multiple:!0,searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.bahanSel.map((function(a){return a.id})),"custom-label":function(t){return a.bahanSel.find((function(a){return a.id==t})).category}},model:{value:a.id_bahans,callback:function(t){a.id_bahans=t},expression:"id_bahans"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{"label-for":"pemasanganSel",label:"Pemasangan"}},[e("multiselect",{attrs:{id:"pemasanganSel",label:"category",placeholder:"Type to search","open-direction":"bottom",multiple:!0,searchable:!0,"internal-search":!1,"clear-on-select":!1,options:a.pemasanganSel.map((function(a){return a.id})),"custom-label":function(t){return a.pemasanganSel.find((function(a){return a.id==t})).category}},model:{value:a.id_pemasangans,callback:function(t){a.id_pemasangans=t},expression:"id_pemasangans"}})],1)],1),e("b-col",{attrs:{md:"12"}},[e("div",{staticClass:"font-weight-bold text-success text-center border-bottom mb-4"},[a._v(" Dimensi Barang ")])]),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{"label-for":"panjang",label:"Panjang (Cm)"}},[e("b-form-input",{attrs:{id:"panjang",type:"number",placeholder:"-"},model:{value:a.materialEdit.panjang,callback:function(t){a.$set(a.materialEdit,"panjang",t)},expression:"materialEdit.panjang"}})],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{"label-for":"lebar",label:"Lebar (Cm)"}},[e("b-form-input",{attrs:{id:"lebar",type:"number",placeholder:"-"},model:{value:a.materialEdit.lebar,callback:function(t){a.$set(a.materialEdit,"lebar",t)},expression:"materialEdit.lebar"}})],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{"label-for":"tinggi",label:"Tinggi (Cm)"}},[e("b-form-input",{attrs:{id:"tinggi",type:"number",placeholder:"-"},model:{value:a.materialEdit.tinggi,callback:function(t){a.$set(a.materialEdit,"tinggi",t)},expression:"materialEdit.tinggi"}})],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{"label-for":"berat",label:"Berat (Kg)"}},[e("b-form-input",{attrs:{id:"berat",type:"number",placeholder:"-"},model:{value:a.materialEdit.berat,callback:function(t){a.$set(a.materialEdit,"berat",t)},expression:"materialEdit.berat"}})],1)],1)],1)],1)],1)])],1)},r=[],n=e("5530"),l=(e("4de4"),e("99af"),e("d3b7"),e("159b"),e("b64b"),e("ac1f"),e("1276"),e("d81d"),e("a9e3"),e("fb6a"),e("a15b"),e("5319"),e("25f0"),e("bcae")),s=e("22dc"),o=e("2f62"),c=e("bc3a"),d=e.n(c),m=e("358c"),u={name:"MaterialList",mounted:function(){l["d"].index(),this.getDynamicData("catRABSel","rab"),this.getDynamicData("catPekerjaanSel","pekerjaan"),this.getDynamicData("fungsiSel","fungsi"),this.getDynamicData("bahanSel","bahan"),this.getDynamicData("pemasanganSel","pemasangan"),this.getDynamicData("merkSel","merk"),this.getDynamicData("satuanSel","satuan"),this.getDynamicData("pengirimanSel","pengiriman")},data:function(){return{fields:[{key:"no",label:"No.",sortable:!0,sortDirection:"asc"},{key:"photo",label:"Gambar"},{key:"nama_material",label:"Nama Material"},{key:"detail",label:"Dimensi/Berat"},{key:"limit_min_stok",label:"Stok"},{key:"actions",label:"Aksi"}],assetUrl:l["e"],totalRows:"",currentPage:1,perPage:15,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],rowData:[],material:{id_merk:"",id_satuan:"",nama_material:"",panjang:"",lebar:"",tinggi:"",berat:""},materialEdit:{id_merk:"",id_satuan:"",nama_material:"",panjang:"",lebar:"",tinggi:"",berat:""},id_material_updt:"",type_delivery:"",type_deliverys:"",id_cat_rab:"",id_cat_rabs:"",id_cat_pekerjaan:"",id_cat_pekerjaans:"",id_fungsi:"",id_fungsis:"",id_bahan:"",id_bahans:"",id_pemasangan:"",id_pemasangans:"",file:"",files:"",limit_min_stock:"",limit_min_stocks:"",statusSel:[{value:1,text:"Aktif"},{value:0,text:"Tidak Aktif"}],catRABSel:[],catPekerjaanSel:[],fungsiSel:[],bahanSel:[],pemasanganSel:[],pengirimanSel:[],satuanSel:[],merkSel:[],excelMaterial:null}},computed:{},components:{},beforeMount:function(){},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["b"])({storeMaterialList:"masterModule/addMaterialList"})),Object(o["c"])({materialList:"masterModule/materialListState"})),{},{getDataList:function(a){var t=this,e=(a.currentPage-1)*a.perPage;1===a.currentPage&&(e=0);var i=a.filter,r="";r=null===i?"":"&material_name="+i;var n=d.a.get("".concat(m["a"].urlAPIPHP,"/get_material?limit=").concat(a.perPage,"&skip=").concat(e,"&status=0").concat(r));return n.then((function(a){if(200===a.status){t.storeMaterialList(a.data.data),t.totalRows=a.data._meta.total;var e=t.materialList();return e||[]}}))},idWithCategory:function(a){var t=a.id,e=a.category;return"".concat(t," — ").concat(e)},getDynamicData:function(a,t){var e=this;s["a"].cat.getCategorybyType(t).then((function(t){200===t.status&&(e[a]=t.data.result)})).finally((function(){e.loading=!1}))},accVerif:function(a){var t=this,e=confirm("Verifikasi kategori ini?");e&&(l["d"].custLoader(!0),s["a"].material.verifyCategory(a).then((function(a){var i=a.data;200===a.status?"SUCCESS"===i.message&&(l["d"].showSnackbar("success","Verifikasi data kategori berhasil."),t.$refs.dTable.refresh()):a.data.errors.length>0&&(t.$refs.form.setErrors(a.data.errors),e("Gagal"))})).finally((function(){l["d"].custLoader(!1)})))},updateMaterial:function(){var a=this,t=new FormData;Object.keys(this.materialEdit).forEach((function(e){t.append(e,a.materialEdit[e])})),t.append("type_delivery",this.type_deliverys),t.append("id_cat_rab",this.id_cat_rabs),t.append("id_cat_pekerjaan",this.id_cat_pekerjaans),t.append("id_fungsi",this.id_fungsis),t.append("id_bahan",this.id_bahans),t.append("id_pemasangan",this.id_pemasangans),t.append("limit_min_stock",parseInt(this.limit_min_stocks)),t.append("photo",this.files),s["a"].material.editMaterialPHP(this.id_material_updt,t).then((function(t){200===t.status?(l["d"].showSnackbar("success","Data material telah di ubah."),a.resetModalEdit(),a.$refs.dTable.refresh()):l["d"].showSnackbar("danger","Data vendor telah gagal di ubah.")})).finally((function(){a.loading=!1}))},delMaterial:function(a){var t=this,e=confirm("Apakah anda yakin untuk menghapus data "+a.nama_material+" ini?");e&&(l["d"].custLoader(!0),s["a"].material.deleteMaterialPHP(a.id).then((function(a){200===a.status&&(l["d"].showSnackbar("success","Data material berhasil di hapus."),t.$refs.dTable.refresh())})).finally((function(){l["d"].custLoader(!1)})))},updMaterial:function(a){this.$bvModal.show("modalEditMaterial"),this.id_material_updt=a.id,this.materialEdit.nama_material=a.nama_material,this.limit_min_stocks=a.limit_min_stok;for(var t=0;t<a.type.length;t++){var e=a.type[t];if("1"===e.type_id){var i=e.category_id.split(",");this.id_bahans=i.map(Number)}if("2"===e.type_id){var r=e.category_id;this.materialEdit.id_merk=r}if("3"===e.type_id){var n=e.category_id;this.materialEdit.id_satuan=n}if("4"===e.type_id){var l=e.category_id.split(",");this.id_cat_rabs=l.map(Number)}if("5"===e.type_id){var s=e.category_id.split(",");this.id_cat_pekerjaans=s.map(Number)}if("6"===e.type_id){var o=e.category_id.split(",");this.id_fungsis=o.map(Number)}if("7"===e.type_id){var c=e.category_id.split(",");this.id_pemasangans=c.map(Number)}}},resetModalEdit:function(){this.id_material_updt="",this.materialEdit.id_merk="",this.materialEdit.id_satuan="",this.materialEdit.nama_material="",this.limit_min_stocks="",this.id_bahans="",this.id_cat_rabs="",this.id_cat_pekerjaans="",this.id_fungsis="",this.id_pemasangans="",this.limit_min_stocks=""},handleFileUpload:function(){this.file=this.$refs.file.files[0]},handleFileUploads:function(){this.files=this.$refs.files.files[0]},imgError:function(a){a.target.src=l["c"]},capitalFirst:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},joinArr:function(a){return a.join(",")},separatorNum:function(a){return"undefined"===typeof a||null===a||"null"===a?null:(a=parseFloat(a),a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))},nameKeydown:function(a){/^\W$/.test(a.key)&&a.preventDefault()},onFiltered:function(a){this.totalRows=a.length,this.currentPage=1}})},p=u,b=(e("6288"),e("2877")),f=Object(b["a"])(p,i,r,!1,null,null,null);t["default"]=f.exports},"5f6d":function(a,t,e){},6288:function(a,t,e){"use strict";e("5f6d")}}]);
//# sourceMappingURL=chunk-5144cae2.d0f9437d.js.map