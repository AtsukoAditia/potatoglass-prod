(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a2e9c9d"],{"2ed9":function(t,e,a){},"7e5f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[t._v("List Data Lokasi Vendor")])]},proxy:!0},{key:"body",fn:function(){return[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Cari data disini"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append")],1)],1)],1),a("b-col",{staticClass:"md-8"},[a("router-link",{attrs:{to:t.toVendorAdd}},[a("b-button",{staticClass:"float-right",attrs:{variant:"primary"}},[a("i",{staticClass:"ri-bill-fill"}),t._v("Add Vendor")])],1)],1)],1),a("b-table",{ref:"dTable",attrs:{"show-empty":"",stacked:"md",items:t.vendorList,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"sort-by":t.sortBy,"sort-desc":t.sortDesc},on:{filtered:t.onFiltered,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(no)",fn:function(e){return[t._v(" "+t._s((t.currentPage-1)*t.perPage+(e.index+1))+" ")]}},{key:"cell(vendor_name)",fn:function(e){return[a("div",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.item.name_vendor))])]}},{key:"cell(alamat)",fn:function(e){return[t._v(" "+t._s(e.item.alamat)+", "+t._s(e.item.kota)+", "+t._s(e.item.provinsi)+" - "+t._s(e.item.kode_pos)+" ")]}},{key:"cell(email)",fn:function(e){return[a("a",{attrs:{href:"to:"+e.item.email}},[t._v(t._s(e.item.email))])]}},{key:"cell(contact_person)",fn:function(e){return[a("a",{attrs:{href:"tel:"+e.item.phone}},[t._v(t._s(e.item.phone))])]}},{key:"cell(status)",fn:function(){return[a("b-badge",{attrs:{variant:"light"}},[t._v("Perlu Verifikasi")])]},proxy:!0},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"d-flex"},[a("b-button",{staticClass:"mr-1",attrs:{type:"button",size:"sm",variant:"info"},on:{click:function(a){return t.info(e.item,e.index,a.target)}}},[a("div",{staticClass:"icon",attrs:{"data-icon":""}})]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"success"},on:{click:function(a){return t.accVerif(e.item)}}},[a("div",{staticClass:"icon",attrs:{"data-icon":"S"}})]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.statusVendor(e.item)}}},[a("div",{staticClass:"icon",attrs:{"data-icon":"9"}})])],1)]}}])}),a("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-title":"Verifikasi Data"},on:{ok:function(e){return t.accVerif(t.infoModal.content.user_id)},hide:t.resetInfoModal}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("span",[t._v("Foto KTP Milik Vendor")]),a("a",{attrs:{href:t.assetUrl+"vendor/"+t.infoModal.content.user_id+"/identitas/"+t.infoModal.content.identitas,target:"_blank"}},[a("b-img",{attrs:{src:t.assetUrl+"vendor/"+t.infoModal.content.user_id+"/identitas/"+t.infoModal.content.identitas,fluid:"",alt:"Foto KTP Vendor"}})],1)]),a("b-col",{attrs:{md:"6"}},[a("span",[t._v("Foto Toko Vendor")]),a("a",{attrs:{href:t.assetUrl+"vendor/"+t.infoModal.content.user_id+"/photo_toko/"+t.infoModal.content.photo_toko,target:"_blank"}},[a("b-img",{attrs:{src:t.assetUrl+"vendor/"+t.infoModal.content.user_id+"/photo_toko/"+t.infoModal.content.photo_toko,fluid:"",alt:"Foto Toko Vendor"}})],1)])],1)],1)]},proxy:!0}])})],1)],1),a("b-modal",{attrs:{id:"modalStatus",centered:"","hide-header":""},on:{ok:t.decVerif,hidden:t.resetModal}},[a("b-form-group",{attrs:{id:"inpStat2",label:"Alasan ditolak :","label-for":"txtReason"}},[a("b-form-textarea",{attrs:{id:"txtReason",placeholder:"Berikan alasan kenapa akun ini harus ditolak...",rows:"3","max-rows":"6"},model:{value:t.alasan,callback:function(e){t.alasan=e},expression:"alasan"}})],1)],1)],1)},o=[],r=(a("d81d"),a("4de4"),a("d3b7"),a("bcae")),i=a("22dc"),s={name:"VendorVerified",props:{toVendorAdd:{type:Object,default:function(){return{name:"vendor.addvendor"}}}},mounted:function(){r["d"].index()},data:function(){return{fields:[{key:"no",label:"No.",sortable:!0,sortDirection:"asc"},{key:"vendor_name",label:"Nama Vendor"},{key:"alamat",label:"Alamat"},{key:"email",label:"Email"},{key:"contact_person",label:"Kontak Person"},{key:"status",label:"Status"},{key:"actions",label:"Actions"}],totalRows:"",currentPage:1,perPage:15,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],assetUrl:r["e"],infoModal:{id:"info-modal",title:"",content:""},alasan:"",verifData:[]}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{info:function(t,e,a){this.infoModal.title="Data vendor: ".concat(t.name_vendor),this.infoModal.content=t,this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},resetModal:function(){this.alasan=""},statusVendor:function(t){this.verifData=t,this.$bvModal.show("modalStatus")},decVerif:function(){var t=this,e=this.verifData,a=confirm("Tolak permohonan verifikasi data ini?");e["alasan"]=this.alasan,a&&i["a"].vendor.getVerifAcc(e.user_id,0,e).then((function(e){var n=e.data;200===e.status?"SUCCESS"===n.message&&(r["d"].showSnackbar("success","Verifikasi data vendor berhasil ditolak."),t.$refs.dTable.refresh()):e.data.errors.length>0&&(t.$refs.form.setErrors(e.data.errors),a("Gagal"))})).finally((function(){t.loading=!1}))},accVerif:function(t){var e=this,a=confirm("Verifikasi akun vendor ini?");a&&i["a"].vendor.getVerifAcc(t.user_id,1,t).then((function(t){var n=t.data;200===t.status?"SUCCESS"===n.message&&(r["d"].showSnackbar("success","Verifikasi data vendor berhasil diterima."),e.$refs.dTable.refresh()):t.data.errors.length>0&&(e.$refs.form.setErrors(t.data.errors),a("Gagal"))})).finally((function(){e.loading=!1}))},vendorList:function(t,e){var a=this,n=(t.currentPage-1)*t.perPage;1===t.currentPage&&(n=0);var o=t.filter;null===o&&(o=""),i["a"].vendor.getVendorVerif(n,t.perPage,o).then((function(t){var n=t.data;if(200===t.status){a.totalRows=n._meta.total;var o=n.data;e(o)}else t.data.errors.length>0&&a.$refs.form.setErrors(t.data.errors)})).finally((function(){a.loading=!1}))},imgError:function(t){t.target.src=r["c"]},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},l=s,d=(a("da75"),a("2877")),c=Object(d["a"])(l,n,o,!1,null,null,null);e["default"]=c.exports},da75:function(t,e,a){"use strict";a("2ed9")}}]);
//# sourceMappingURL=chunk-0a2e9c9d.0ae29a9f.js.map