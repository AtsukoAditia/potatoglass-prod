{"version":3,"sources":["webpack:///./src/views/Pages/Vendor/BookingHistory.vue?2805","webpack:///./src/views/Pages/Vendor/BookingHistory.vue?343e","webpack:///src/views/Pages/Vendor/BookingHistory.vue","webpack:///./src/views/Pages/Vendor/BookingHistory.vue?4c9a","webpack:///./src/views/Pages/Vendor/BookingHistory.vue?f4e3"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","proxy","staticClass","_v","model","value","callback","$$v","filter","expression","on","$event","filterTrans","ref","getTransactionList","fields","currentPage","perPage","onFiltered","row","_s","index","separatorNum","item","sub_total","jumlah_item","_f","order_time","delivery_time","noteOrder","target","status_item_vendor","_e","name","params","id","unique_order_item","directives","rawName","modifiers","totalRows","infoModal","title","resetNoteOrder","domProps","content","staticRenderFns","props","toMaterialAdd","mounted","data","pageOptions","sortBy","sortDesc","sortDirection","filterOn","filters","moment","computed","sortOptions","methods","ctx","currPage","filteredItems","length","note_order","note_delivery","$root","$emit","button","accOrder","cfm","rejectOrder","val","parseFloat","toString","replace","component"],"mappings":"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","file":"js/chunk-157681d8.c4472e96.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingHistory.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\",\"sm\":\"12\"}},[_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return undefined},proxy:true},{key:\"body\",fn:function(){return [_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"6\"}},[_c('label',{attrs:{\"for\":\"searchInput\"}},[_vm._v(\"Pencarian\")]),_c('b-form-input',{attrs:{\"id\":\"searchInput\",\"type\":\"search\",\"size\":\"md\",\"placeholder\":\"Ketik disini untuk mencari...\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1),_c('b-col',{staticClass:\"my-1 float-right\",attrs:{\"md\":\"6\"}},[_c('label',{attrs:{\"for\":\"searchInput\"}},[_vm._v(\"Filter\")]),_c('div',{staticClass:\"d-block\"},[_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.filterTrans(0)}}},[_vm._v(\"Semua\")]),_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.filterTrans(1)}}},[_vm._v(\"Trans. Sendiri\")]),_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.filterTrans(2)}}},[_vm._v(\"Trans. Gabungan\")])],1)])],1),_c('br'),_c('b-table',{ref:\"dTable\",attrs:{\"items\":_vm.getTransactionList,\"fields\":_vm.fields,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage},on:{\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(no)\",fn:function(row){return [_c('span',{attrs:{\"v-for\":row}},[_vm._v(\" \"+_vm._s(((_vm.currentPage - 1) * _vm.perPage) + (row.index + 1))+\" \")])]}},{key:\"cell(sub_total)\",fn:function(row){return [_vm._v(\" Rp \"+_vm._s(_vm.separatorNum(row.item.sub_total))+\" \")]}},{key:\"cell(jumlah_item)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.separatorNum(row.item.jumlah_item))+\" \")]}},{key:\"cell(order_time)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(row.item.order_time))+\" \")]}},{key:\"cell(delivery_time)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(row.item.delivery_time))+\" \")]}},{key:\"cell(note)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.noteOrder(row.item, row.index, $event.target)}}},[_vm._v(\" Lihat \")])]}},{key:\"cell(status_item_vendor)\",fn:function(row){return [(row.item.status_item_vendor == 1)?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Pesanan Masuk\")]):_vm._e(),(row.item.status_item_vendor == 2)?_c('b-badge',{attrs:{\"variant\":\"primary\"}},[_vm._v(\"Pesanan Diterima\")]):_vm._e(),(row.item.status_item_vendor == 9)?_c('b-badge',{attrs:{\"variant\":\"info\"}},[_vm._v(\"Pesanan Dalam Perjalanan\")]):_vm._e(),(row.item.status_item_vendor == 10)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"Pesanan Berhasil\")]):_vm._e(),(row.item.status_item_vendor == 11)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Pesanan Ditolak Vendor\")]):_vm._e(),(row.item.status_item_vendor == 11)?_c('b-badge',{attrs:{\"variant\":\"secondary\"}},[_vm._v(\"Pesanan Dibatalkan User\")]):_vm._e()]}},{key:\"cell(actions)\",fn:function(row){return [_c('router-link',{attrs:{\"to\":{ name: 'booking.detail', params: {id: row.item.unique_order_item} }}},[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top\",value:('Lihat detail pesanan'),expression:\"'Lihat detail pesanan'\",modifiers:{\"top\":true}}],staticClass:\"mr-1\",attrs:{\"size\":\"sm\",\"variant\":\"info\"}},[_c('div',{staticClass:\"icon\",attrs:{\"data-icon\":\"\"}})])],1)]}}])}),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"fill\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)]},proxy:true}])})],1)],1),_c('b-modal',{attrs:{\"id\":_vm.infoModal.id,\"title\":_vm.infoModal.title,\"ok-only\":\"\"},on:{\"hide\":_vm.resetNoteOrder}},[_c('div',{staticClass:\"text-dark\",domProps:{\"innerHTML\":_vm._s(_vm.infoModal.content)}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container fluid=\"\">\n    <b-row>\n      <b-col md=\"12\" sm=\"12\">\n        <iq-card>\n          <template v-slot:headerTitle>\n          </template>\n          <template v-slot:body>\n            <b-row>\n              <b-col md=\"6\" class=\"my-1\">\n                <label for=\"searchInput\">Pencarian</label>\n                <b-form-input id=\"searchInput\" v-model=\"filter\" type=\"search\" size=\"md\" placeholder=\"Ketik disini untuk mencari...\"></b-form-input>\n              </b-col>\n              <b-col md=\"6\" class=\"my-1 float-right\">\n                <label for=\"searchInput\">Filter</label>\n                <div class=\"d-block\">\n                    <b-button variant=\"primary\" @click=\"filterTrans(0)\" class=\"mr-1\">Semua</b-button>\n                    <b-button variant=\"success\" @click=\"filterTrans(1)\" class=\"mr-1\">Trans. Sendiri</b-button>\n                    <b-button variant=\"success\" @click=\"filterTrans(2)\" class=\"mr-1\">Trans. Gabungan</b-button>\n                </div>\n              </b-col>\n            </b-row>\n            <br>\n            <b-table\n              :items=\"getTransactionList\"\n              :fields=\"fields\"\n              :current-page=\"currentPage\"\n              :per-page=\"perPage\"\n              ref=\"dTable\"\n              @filtered=\"onFiltered\"\n            >\n              <template v-slot:cell(no)=\"row\">\n                <span :v-for=\"row\">\n                {{ ((currentPage - 1) * perPage) + (row.index + 1) }}\n                </span>\n              </template>\n              <template v-slot:cell(sub_total)=\"row\">\n                Rp {{ separatorNum(row.item.sub_total) }}\n              </template>\n              <template v-slot:cell(jumlah_item)=\"row\">\n                {{ separatorNum(row.item.jumlah_item) }}\n              </template>\n              <template v-slot:cell(order_time)=\"row\">\n                {{ row.item.order_time | moment }}\n              </template>\n              <template v-slot:cell(delivery_time)=\"row\">\n                {{ row.item.delivery_time | moment }}\n              </template>\n              <template v-slot:cell(note)=\"row\">\n                <b-button size=\"sm\" @click=\"noteOrder(row.item, row.index, $event.target)\" class=\"mr-1\">\n                  Lihat\n                </b-button>\n              </template>\n              <template v-slot:cell(status_item_vendor)=\"row\">\n                <b-badge variant=\"warning\" v-if=\"row.item.status_item_vendor == 1\">Pesanan Masuk</b-badge>\n                <b-badge variant=\"primary\" v-if=\"row.item.status_item_vendor == 2\">Pesanan Diterima</b-badge>\n                <b-badge variant=\"info\" v-if=\"row.item.status_item_vendor == 9\">Pesanan Dalam Perjalanan</b-badge>\n                <b-badge variant=\"success\" v-if=\"row.item.status_item_vendor == 10\">Pesanan Berhasil</b-badge>\n                <b-badge variant=\"danger\" v-if=\"row.item.status_item_vendor == 11\">Pesanan Ditolak Vendor</b-badge>\n                <b-badge variant=\"secondary\" v-if=\"row.item.status_item_vendor == 11\">Pesanan Dibatalkan User</b-badge>\n              </template>\n              <template v-slot:cell(actions)=\"row\">\n                <router-link :to=\"{ name: 'booking.detail', params: {id: row.item.unique_order_item} }\">\n                  <b-button size=\"sm\" v-b-tooltip.top=\"'Lihat detail pesanan'\" variant=\"info\" class=\"mr-1\">\n                    <div data-icon=\"\" class=\"icon\"></div>\n                  </b-button>\n                </router-link>\n              </template>\n            </b-table>\n            <b-col sm=\"12\" md=\"6\" class=\"my-1\">\n              <b-pagination\n                v-model=\"currentPage\"\n                :total-rows=\"totalRows\"\n                :per-page=\"perPage\"\n                align=\"fill\"\n                size=\"sm\"\n                class=\"my-0\"\n              ></b-pagination>\n          </b-col>\n          </template>\n        </iq-card>\n      </b-col>\n    </b-row>\n    <!-- Info modal -->\n    <b-modal :id=\"infoModal.id\" :title=\"infoModal.title\" ok-only @hide=\"resetNoteOrder\">\n      <div class=\"text-dark\" v-html=\"infoModal.content\"></div>\n    </b-modal>\n  </b-container>\n</template>\n<script>\nimport { core } from '../../../config/pluginInit'\nimport API from '@/services/vendor/order'\nimport moment from 'moment'\nexport default {\n  name: 'BookingHistory',\n  props: {\n    toMaterialAdd: { type: Object, default: () => ({ name: 'material.addmaterial' }) }\n  },\n  mounted () {\n    core.index()\n  },\n  data () {\n    return {\n      fields: [\n        { key: 'no', label: 'No.', sortable: true, sortDirection: 'asc' },\n        { key: 'material_name', label: 'Nama Material' },\n        // { key: 'merk', label: 'Merk' },\n        // { key: 'satuan', label: 'Satuan' },\n        // { key: 'bahan', label: 'Bahan' },\n        // { key: 'build_quality', label: 'Kualitas' },\n        { key: 'customer_name', label: 'Pembeli' },\n        { key: 'vendor_name', label: 'Nama Vendor' },\n        { key: 'jumlah_item', label: 'Qty' },\n        { key: 'sub_total', label: 'Sub Total' },\n        { key: 'order_time', label: 'Waktu Pesanan' },\n        { key: 'delivery_time', label: 'Waktu Pengiriman' },\n        { key: 'note', label: 'Catatan' },\n        { key: 'status_item_vendor', label: 'Status' },\n        // { key: 'order_time', label: 'Waktu Pesanan' }\n        { key: 'actions', label: 'Aksi' }\n      ],\n      totalRows: '',\n      currentPage: 1,\n      perPage: 10,\n      pageOptions: [5, 10, 15],\n      sortBy: '',\n      sortDesc: false,\n      sortDirection: 'asc',\n      filter: null,\n      filterOn: [],\n      infoModal: {\n        id: 'info-modal',\n        title: '',\n        content: ''\n      }\n    }\n  },\n  filters: {\n    moment: function (date) {\n      return moment(date).format('D MMMM YYYY')\n    }\n  },\n  computed: {\n    sortOptions () {\n      // Create an options list from our fields\n      return this.fields\n        .filter(f => f.sortable)\n        .map(f => {\n          return { text: f.label, value: f.key }\n        })\n    }\n  },\n  methods: {\n    getTransactionList (ctx) {\n      let currPage = (ctx.currentPage - 1) * ctx.perPage\n      if (ctx.currentPage === 1) {\n        currPage = 0\n      }\n      let name = ctx.filter\n      if (name === null) {\n        name = ''\n      }\n      return API.order\n        .getList(currPage, ctx.perPage, 10).then(response => {\n          if (response.status) {\n            this.totalRows = response.data._metadata.total\n            const items = response.data.result\n            return items || []\n          } else if (response.data.errors.length > 0) {\n            this.$refs.form.setErrors(response.data.errors)\n          }\n        }).finally(() => {\n          this.loading = false\n        })\n    },\n    onFiltered (filteredItems) {\n      this.totalRows = filteredItems.length\n      this.currentPage = 1\n    },\n    noteOrder (item, index, button) {\n      this.infoModal.title = 'Detail Catatan Pesanan'\n      this.infoModal.content = '<p>Catatan Pesanan: <span class=\"font-weight-bold\">' + item.note_order + '</span><br>Catatan Pengiriman: <span class=\"font-weight-bold\">' + item.note_delivery + '</span></p>'\n      this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n    },\n    resetNoteOrder () {\n      this.infoModal.title = ''\n      this.infoModal.content = ''\n    },\n\n    accOrder (data) {\n      let cfm = confirm('Terima order dari ' + data.customer_name + '?')\n      if (cfm) {\n        API.order.accept(data.unique_order_item)\n          .then(response => {\n            if (response.status) {\n              core.showSnackbar('success', 'Order telah diterima.')\n              this.$refs.dTable.refresh()\n            }\n          }).finally(() => {\n            this.loading = false\n          })\n      }\n    },\n    rejectOrder (data) {\n      let cfm = confirm('Tolak order dengan ID ' + data.customer_name + '?')\n      if (cfm) {\n        API.order.reject(data.unique_order_item)\n          .then(response => {\n            if (response.status) {\n              core.showSnackbar('success', 'Order telah ditolak.')\n              this.$refs.dTable.refresh()\n            }\n          }).finally(() => {\n            this.loading = false\n          })\n      }\n    },\n\n    separatorNum (val) {\n      if (typeof val === 'undefined' || val === null || val === 'null') {\n        return null\n      }\n      val = parseFloat(val)\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\n    }\n  }\n}\n\n</script>\n\n<style>\n/* .iq-card-body{\n  flex: unset;\n} */\n.imgTBL {\n  width: 80px;\n}\n.inputPercentModal {\n    border-bottom-right-radius: 0px !important;\n    border-top-right-radius: 0px !important;\n    width: 0;\n    height: 39px !important;\n    border-top-left-radius: 5px !important;\n    border-bottom-left-radius: 5px !important;\n}\n.trtdMid > td {\n  vertical-align: inherit !important;\n}\n.mlt-limitWidth > .multiselect {\n  max-width: 250px !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookingHistory.vue?vue&type=template&id=a549b184&\"\nimport script from \"./BookingHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./BookingHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookingHistory.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}