(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aade4"],{"139e":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("b-container",{attrs:{fluid:""}},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.handleSubmit;return[t("form",{on:{submit:function(a){return a.preventDefault(),r(e.onSubmit)}}},[t("b-row",[t("b-col",{attrs:{md:"6"}},[t("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[t("h4",{staticClass:"card-title"},[e._v("Info Perusahaan")])]},proxy:!0},{key:"body",fn:function(){return[t("b-row",{attrs:{"align-v":"center"}},[t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Nama Vendor","label-for":"nperusahaan"}},[t("ValidationProvider",{attrs:{name:"Nama Vendor",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"Nama Vendor"},model:{value:e.vendor.perusahaan,callback:function(a){e.$set(e.vendor,"perusahaan",a)},expression:"vendor.perusahaan"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Contact Person 1","label-for":"cvendor"}},[t("ValidationProvider",{attrs:{name:"Contact Person Vendor",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"Contact Person Vendor"},model:{value:e.vendor.cp1,callback:function(a){e.$set(e.vendor,"cp1",a)},expression:"vendor.cp1"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Contact Person 2","label-for":"cvendor"}},[t("b-form-input",{attrs:{type:"text",placeholder:"Contact Person Vendor"},model:{value:e.vendor.cp2,callback:function(a){e.$set(e.vendor,"cp2",a)},expression:"vendor.cp2"}})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Telpon Vendor","label-for":"tvendor"}},[t("ValidationProvider",{attrs:{name:"Telpon Vendor",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"tel",placeholder:"Telpon Vendor"},model:{value:e.vendor.telp,callback:function(a){e.$set(e.vendor,"telp",a)},expression:"vendor.telp"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Email Vendor","label-for":"evendor"}},[t("ValidationProvider",{attrs:{name:"Email Vendor",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"email",placeholder:"Email Vendor"},model:{value:e.vendor.email,callback:function(a){e.$set(e.vendor,"email",a)},expression:"vendor.email"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Website Vendor","label-for":"wvendor"}},[t("b-form-input",{attrs:{type:"text",placeholder:"Website Vendor"},model:{value:e.vendor.url,callback:function(a){e.$set(e.vendor,"url",a)},expression:"vendor.url"}})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"NPWP Vendor","label-for":"npwpvendor"}},[t("ValidationProvider",{attrs:{name:"NPWP Vendor",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"number",placeholder:"NPWP Vendor"},model:{value:e.vendor.npwp,callback:function(a){e.$set(e.vendor,"npwp",a)},expression:"vendor.npwp"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Sumber Informasi","label-for":"wvendor"}},[t("b-form-input",{attrs:{type:"text",placeholder:"Sumber Informasi"},model:{value:e.vendor.sumber_info,callback:function(a){e.$set(e.vendor,"sumber_info",a)},expression:"vendor.sumber_info"}})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Jenis Material","label-for":"jenmater"}},[t("ValidationProvider",{attrs:{name:"Jenis Material",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"Jenis Material"},model:{value:e.vendor.jenis_material,callback:function(a){e.$set(e.vendor,"jenis_material",a)},expression:"vendor.jenis_material"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1)],1)]},proxy:!0}],null,!0)})],1),t("b-col",{attrs:{md:"6"}},[t("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[t("h4",{staticClass:"card-title"},[e._v("Lokasi Vendor")])]},proxy:!0},{key:"body",fn:function(){return[t("b-row",{attrs:{"align-v":"center"}},[t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Alamat Vendor","label-for":"alvendor"}},[t("ValidationProvider",{attrs:{name:"Alamat Vendor",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"Alamat Vendor"},model:{value:e.vendor.alamat,callback:function(a){e.$set(e.vendor,"alamat",a)},expression:"vendor.alamat"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Provinsi","label-for":"provbagvendor"}},[t("ValidationProvider",{attrs:{name:"Provinsi",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("multiselect",{class:r.length>0?" is-invalid":"",attrs:{id:"provbagvendor",options:e.getProv,"track-by":"nama",label:"nama"},on:{select:e.getKota},model:{value:e.vendor.provinsi,callback:function(a){e.$set(e.vendor,"provinsi",a)},expression:"vendor.provinsi"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),null!=e.vendor.provinsi?t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Kota","label-for":"kotbagvendor"}},[t("ValidationProvider",{attrs:{name:"Kota",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("multiselect",{class:r.length>0?" is-invalid":"",attrs:{id:"kotbagvendor",options:e.getKab,"track-by":"nama",label:"nama"},on:{select:e.getKecamatan},model:{value:e.vendor.kota,callback:function(a){e.$set(e.vendor,"kota",a)},expression:"vendor.kota"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1):e._e(),null!=e.vendor.kota?t("b-form-group",{staticClass:"col-md-4",attrs:{label:"Kecamatan","label-for":"kecbagvendor"}},[t("ValidationProvider",{attrs:{name:"Kecamatan",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("multiselect",{class:r.length>0?" is-invalid":"",attrs:{id:"kecbagvendor",options:e.getKec,"track-by":"nama",label:"nama"},on:{select:e.getKelurahan},model:{value:e.vendor.kecamatan,callback:function(a){e.$set(e.vendor,"kecamatan",a)},expression:"vendor.kecamatan"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1):e._e(),null!=e.vendor.kecamatan?t("b-form-group",{staticClass:"col-md-4",attrs:{label:"Kelurahan","label-for":"kelbagvendor"}},[t("ValidationProvider",{attrs:{name:"Kelurahan",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("multiselect",{attrs:{id:"kelbagvendor",options:e.getKel,"track-by":"nama",label:"nama"},model:{value:e.vendor.kelurahan,callback:function(a){e.$set(e.vendor,"kelurahan",a)},expression:"vendor.kelurahan"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1):e._e(),t("b-form-group",{staticClass:"col-md-4",attrs:{label:"Kode Pos","label-for":"kodpvendor"}},[t("ValidationProvider",{attrs:{name:"Kode Pos",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"number",placeholder:"Kode Pos"},model:{value:e.vendor.postal,callback:function(a){e.$set(e.vendor,"postal",a)},expression:"vendor.postal"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Latitude","label-for":"lat"}},[t("ValidationProvider",{attrs:{name:"lat",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"-"},model:{value:e.vendor.address_lat,callback:function(a){e.$set(e.vendor,"address_lat",a)},expression:"vendor.address_lat"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Longitude","label-for":"lng"}},[t("ValidationProvider",{attrs:{name:"Longitude",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("b-form-input",{class:r.length>0?" is-invalid":"",attrs:{type:"text",placeholder:"-"},model:{value:e.vendor.address_long,callback:function(a){e.$set(e.vendor,"address_long",a)},expression:"vendor.address_long"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])]}}],null,!0)})],1),t("b-col",{attrs:{md:"12"}},[t("b-button",{staticClass:"float-right",attrs:{variant:"info",size:"sm"},on:{click:e.geolocate}},[e._v("Deteksi Lokasi")]),t("div",{staticClass:"w-100 d-flex"},[t("GmapMap",{ref:"mapRef",staticStyle:{width:"100vmax",height:"35vmin"},attrs:{center:e.center,zoom:18,"map-style-id":"roadmap",options:e.mapOptions},on:{click:e.handleMapClick}},[t("GmapMarker",{attrs:{position:e.marker.position,clickable:!0,draggable:!0},on:{drag:e.handleMarkerDrag,click:e.panToMarker}})],1)],1)],1)],1)]},proxy:!0}],null,!0)})],1),t("b-col",{attrs:{lg:"12"}},[[t("div",{staticClass:"iq-edit-list"},[t("b-button",{staticClass:"mb-3 mr-1 btn-lg float-right",attrs:{variant:"primary",type:"submit"}},[t("i",{staticClass:"ri-bill-fill"}),e._v("Tambahkan Vendor")])],1)]],2)],1)],1)]}}])})],1)},n=[],o=t("5530"),s=(t("d3b7"),t("bcae")),l=t("22dc"),i=t("2f62"),d={name:"VendorAdd",mounted:function(){s["d"].index(),this.geolocate(),this.getProvinsi()},firestore:function(){return{}},computed:{},data:function(){return{vendor:{address_lat:"",address_long:"",alamat:"",banner:"/img/user-11.889f2489.png",cp1:"",cp2:"",email:"",postal:"",kota:null,logo:"/img/user-11.889f2489.png",master_type_id:"",npwp:"",telp:"",provinsi:null,kecamatan:null,kelurahan:null,perusahaan:"",url:"",sumber_info:"",jenis_material:"",password:"12345678"},marker:{position:{lat:10,lng:10}},center:{lat:10,lng:10},mapOptions:{disableDefaultUI:!0},getProv:[],getKab:[],getKec:[],getKel:[]}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])({storeUserData:"Setting/authUserAction"})),{},{onSubmit:function(){this.addVendorData()},getProvinsi:function(){var e=this;l["a"].address.getAddress("prov","no").then((function(a){var t=a.data;200===a.status&&(e.getProv=t.data)}))},getKota:function(e){var a=this;l["a"].address.getAddress("kab",e.id_prov).then((function(e){var t=e.data;200===e.status&&(a.getKab=t.data)}))},getKecamatan:function(e){var a=this;l["a"].address.getAddress("kec",e.id_kab).then((function(e){var t=e.data;200===e.status&&(a.getKec=t.data)}))},getKelurahan:function(e){var a=this;l["a"].address.getAddress("kel",e.id_kec).then((function(e){var t=e.data;200===e.status&&(a.getKel=t.data)}))},prevImageLogo:function(e){var a=this,t=e.target;if(t.files&&t.files[0]){var r=new FileReader;r.onload=function(e){a.vendor.logo=e.target.result},r.readAsDataURL(t.files[0])}},prevImageBanner:function(e){var a=this,t=e.target;if(t.files&&t.files[0]){var r=new FileReader;r.onload=function(e){a.vendor.banner=e.target.result},r.readAsDataURL(t.files[0])}},addVendorData:function(){var e=this;this.vendor.address_lat=parseFloat(this.vendor.address_lat),this.vendor.address_long=parseFloat(this.vendor.address_long);var a=new FormData;a.append("address_lat",this.vendor.address_lat),a.append("address_long",this.vendor.address_long),a.append("alamat",this.vendor.alamat),a.append("cp1",this.vendor.cp1),a.append("cp2",this.vendor.cp2),a.append("email",this.vendor.email),a.append("provinsi",JSON.stringify(this.vendor.provinsi)),a.append("kota",JSON.stringify(this.vendor.kota)),a.append("kecamatan",JSON.stringify(this.vendor.kecamatan)),a.append("kelurahan",JSON.stringify(this.vendor.kelurahan)),a.append("kode_pos",this.vendor.postal),a.append("npwp_vendor",this.vendor.npwp),a.append("telp",this.vendor.telp),a.append("perusahaan",this.vendor.perusahaan),a.append("url",this.vendor.url),a.append("sumber_info",this.vendor.sumber_info),a.append("jenis_material",this.vendor.jenis_material),a.append("identitas",this.vendor.identitas),a.append("photo_toko",this.vendor.photo_toko),l["a"].vendor.addVendorPHP(a).then((function(a){200===a.status?(s["d"].showSnackbar("success","Data vendor telah di tambahkan."),e.$router.push({name:"vendor.vendor"})):a.data.errors.length>0&&(e.$refs.form.setErrors(a.data.errors),s["d"].showSnackbar("error","Terjadi kesalahan pada sistem."))})).catch((function(){s["d"].showSnackbar("error","Maaf, terjadi kesalahan. Pada Sistem")})).finally((function(){s["d"].custLoader(!1)}))},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition((function(a){e.marker.position={lat:a.coords.latitude,lng:a.coords.longitude},e.vendor.address_lat=a.coords.latitude,e.vendor.address_long=a.coords.longitude,e.panToMarker()}))},handleMarkerDrag:function(e){this.marker.position={lat:e.latLng.lat(),lng:e.latLng.lng()},this.vendor.address_lat=e.latLng.lat(),this.vendor.address_long=e.latLng.lng()},panToMarker:function(){this.$refs.mapRef.panTo(this.marker.position)},handleMapClick:function(e){this.marker.position={lat:e.latLng.lat(),lng:e.latLng.lng()},this.vendor.address_lat=e.latLng.lat(),this.vendor.address_long=e.latLng.lng()}})},c=d,u=t("2877"),v=Object(u["a"])(c,r,n,!1,null,null,null);a["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0aade4.34a043ed.js.map