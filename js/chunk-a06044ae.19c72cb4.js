(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a06044ae"],{"55e6":function(t,e,o){"use strict";o("bca3")},5641:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-container",{attrs:{fluid:""}},[o("b-row",[o("b-col",{attrs:{md:"12",sm:"12"}},[o("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[o("h4",{staticClass:"card-title"},[t._v("Daftar Peran Pengguna")])]},proxy:!0},{key:"body",fn:function(){return[o("b-row",{staticClass:"mb-2"},[o("b-col",{attrs:{md:"12"}},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.addRoleModal",modifiers:{addRoleModal:!0}}],staticClass:"float-right mr-2",attrs:{variant:"success"}},[t._v("Add Role")]),o("b-modal",{attrs:{id:"addRoleModal",centered:"",title:"Tambah data file","ok-title":"Tambah","cancel-title":"Batal"},on:{ok:t.onSubmit}},[o("b-container",[o("b-row",[o("b-col",{attrs:{md:"12"}},[o("b-form-group",{attrs:{"label-for":"rolename",label:"Nama Role"}},[o("b-form-input",{attrs:{id:"rolename",type:"text",placeholder:"-"},model:{value:t.role.role_name,callback:function(e){t.$set(t.role,"role_name",e)},expression:"role.role_name"}})],1)],1),o("b-col",{attrs:{md:"12"}},[o("b-form-group",{attrs:{"label-for":"rolestatus",label:"Status"}},[o("b-form-select",{attrs:{plain:"",options:t.status,id:"rolestatus"},model:{value:t.role.status,callback:function(e){t.$set(t.role,"status",e)},expression:"role.status"}})],1)],1)],1)],1)],1)],1)],1),o("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.listRole,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,filterIncludedFields:t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(no)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(role_name)",fn:function(e){return[t._v(" "+t._s(e.item.id)+" - "+t._s(e.item.role_name)+" ")]}},{key:"cell(actions)",fn:function(e){return[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"editRole",expression:"'editRole'"}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(o){return t.sendInfo(e.item.id)}}},[o("div",{staticClass:"icon",attrs:{"data-icon":""}})]),o("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(o){return t.deleteRole(e.item.id)}}},[o("div",{staticClass:"icon",attrs:{"data-icon":""}})])]}}])}),o("b-modal",{attrs:{id:"editRole",centered:"",title:"Ubah data role","ok-title":"Ubah","cancel-title":"Batal"},on:{ok:t.onEdit}},[o("b-container",[o("b-row",[o("b-col",{attrs:{md:"12"}},[o("b-form-group",{attrs:{"label-for":"rolename",label:"Nama Tipe"}},[o("b-form-input",{attrs:{id:"rolename",type:"text",placeholder:"-"},model:{value:t.role.role_name,callback:function(e){t.$set(t.role,"role_name",e)},expression:"role.role_name"}})],1)],1),o("b-col",{attrs:{md:"12"}},[o("b-form-group",{attrs:{"label-for":"rolestatus",label:"Status"}},[o("b-form-select",{attrs:{plain:"",options:t.status,id:"rolestatus"},model:{value:t.role.status,callback:function(e){t.$set(t.role,"status",e)},expression:"role.status"}})],1),o("div",[t._v("Download template role "),o("a",{attrs:{href:"#",target:"_blank"}},[t._v("disini")])])],1)],1)],1)],1),o("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"6"}},[o("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]},proxy:!0}])})],1)],1)],1)},l=[],n=(o("d81d"),o("4de4"),o("d3b7"),o("bcae")),i=o("22dc"),s={name:"RoleList",props:{},mounted:function(){n["d"].index(),this.totalRows=this.listRole.index+1,this.getRoleList()},data:function(){return{listRole:[],role:{role_name:"",status:""},fields:[{key:"no",label:"No.",sortable:!0,sortDirection:"asc"},{key:"role_name",label:"ID - Nama"},{key:"actions",label:"Tindakan"}],status:[{value:1,text:"Aktif"},{value:0,text:"Tidak Aktif"}],totalRows:1,currentPage:1,perPage:20,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},idSave:""}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{onSubmit:function(){this.addRole()},onEdit:function(){this.editRole()},sendInfo:function(t){var e=this;i["a"].role.getDetailRole(t).then((function(o){o.status&&(e.role={role_name:o.data.result.role_name,status:o.data.result.status},e.idSave=t)})).finally((function(){e.loading=!1}))},info:function(t,e,o){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,o)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getRoleList:function(){var t=this;i["a"].role.getAllRole().then((function(e){t.listRole=e.data.result})).finally((function(){t.loading=!1}))},addRole:function(){var t=this;i["a"].role.addRole(this.role).then((function(e){e.status&&t.getRoleList()})).finally((function(){t.loading=!1}))},editRole:function(){var t=this;i["a"].role.editRole(this.idSave,this.role).then((function(e){e.status&&t.getRoleList()})).finally((function(){t.loading=!1}))},deleteRole:function(t){var e=this,o=confirm("Apakah anda ingin menghapus data ini?");o&&i["a"].role.deleteRole(t).then((function(t){t.status?e.getRoleList():t.data.errors.length>0&&(e.$refs.form.setErrors(t.data.errors),alert("gagal"))})).finally((function(){e.loading=!1}))}}},r=s,c=(o("55e6"),o("2877")),d=Object(c["a"])(r,a,l,!1,null,null,null);e["default"]=d.exports},bca3:function(t,e,o){}}]);
//# sourceMappingURL=chunk-a06044ae.19c72cb4.js.map